require=function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var p="function"==typeof require&&require;if(!f&&p)return p(i,!0);if(u)return u(i,!0);throw(p=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",p}p=n[i]={exports:{}},e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({7:[function(require,module,exports){module.exports=function(){var STAR_COLORS,FILL_COLOR,STAR_RADIUS_MAX,STAR_RADIUS_MIN,STAR_RADIUS_LARGE_MIN,STAR_LARGE_CHANCE,STAR_OPACITY_MAX,_STAR_OPACITY_DIFF,_PIXEL_RATIO,starChart,toggleAnimationButton,animationEnabled,starsElement=document.getElementById("stars");function removeItem(list,item){list.splice(list.indexOf(item),1)}function StarChart(div,pixi){this.div=div,this.pixi=pixi,this.pixi.utils.skipHello(),this.renderer=new pixi.CanvasRenderer(800,600,{antialias:!0,transparent:!0,resolution:_PIXEL_RATIO}),this.renderer.plugins.interaction.autoPreventDefault=!1,this.stage=new this.pixi.Container,this.cellWidth=this.goalWidth=70,this.cellHeight=this.goalHeight=70,this.starCount=2,this.running=!1,this.animationEnabled=!0,this.stars={},this.starList=[],this.cells=[],this.comets=[],this.animatingStars=[],this.removeAnimatingStars=[],this.removeComets=[],this.activeStar=null,window.addEventListener("resize",function(e){this.setSize()}.bind(this)),this.renderer.view.addEventListener("click",function(e){this.animationEnabled&&this.createCometGroup(e.clientX,e.clientY)}.bind(this)),div.appendChild(this.renderer.view),this.setSize(),this.checkVisible()}function CometGroup(game,star,next,hops,addAnother,alpha){this.children=[],this.game=game,this.hops=hops,this.visited={},this.ended=0,this.alpha=1,this.fading=!1,this.addAnother=addAnother,this.added=!addAnother,this.lineAlpha=alpha||.05+.75*Math.random(),this.addComet(star,next,hops)}function Comet(game,parent,star,next,hops){this.game=game,this.parent=parent,this.fromStar=star,this.fromStar.sprite.tint=STAR_COLORS[0],this.nextStar=next,this.angle=null,this.trip=0,this.particles=[],this.aparticles=[],this.hops=hops,this.speed=40,this.sprite=new this.game.pixi.Sprite,this.sprite.anchor=new this.game.pixi.Point(.5,.5),this.sprite.scale=new this.game.pixi.Point(.5,.5),this.sprite.alpha=0,this.game.stage.addChild(this.sprite),this.dist=null,this.lineColor=6998737,this.lines=[],this.currentLine=new this.game.pixi.Graphics,this.ending=!1,this.fading=!1,void 0===this.nextStar&&this.pickNext()}function Star(game,x,y,maxRadius,minRadius){this.game=game,this.x=x,this.y=y,this.cellX=maxRadius,this.cellY=minRadius,this.sprite=new this.game.pixi.Graphics,this.sprite.beginFill(FILL_COLOR,1);maxRadius=Math.random()<STAR_LARGE_CHANCE,minRadius=maxRadius?STAR_RADIUS_LARGE_MIN:STAR_RADIUS_MIN,maxRadius=maxRadius?STAR_RADIUS_MAX:STAR_RADIUS_LARGE_MIN;this.radius=minRadius+Math.random()*(maxRadius-minRadius),this.sprite.drawCircle(0,0,this.radius),this.sprite.endFill(),this.targetAlpha=this.sprite.alpha=STAR_OPACITY_MAX-Math.random()*_STAR_OPACITY_DIFF,this.sprite.x=x,this.sprite.y=y,this.sprite.anchor=new this.game.pixi.Point(.5,.5),this.sprite.tint=STAR_COLORS[1],this.game.stage.addChild(this.sprite),this.links={},this.lines={},this.twinkling=!1,this.id=this.x+"x"+this.y,this.alpha=0}function setAnimationEnabled(enabled){window.localStorage.setItem("ipfs.io:animation-enabled",enabled);var buttonLabel=enabled?"Disable animation":"Enable animation";toggleAnimationButton.textContent=buttonLabel,starChart.setAnimationEnabled(enabled)}starsElement&&(STAR_COLORS=[16777215,16777215],FILL_COLOR=16777215,STAR_RADIUS_MAX=4,STAR_RADIUS_MIN=.5,STAR_LARGE_CHANCE=.1,STAR_RADIUS_LARGE_MIN=2,_STAR_OPACITY_DIFF=(STAR_OPACITY_MAX=.9)-.4,_PIXEL_RATIO=window.devicePixelRatio||1,function(){this.setAnimationEnabled=function(enabled){this.animationEnabled=enabled,this.checkVisible()},this.checkVisible=function(){var viewHeight,rect;this.animationEnabled?(viewHeight=this.renderer.view,rect=viewHeight.getBoundingClientRect(),viewHeight=Math.max(document.documentElement.clientHeight,window.innerHeight),rect.bottom<0||0<=rect.top-viewHeight?this.pause():this.run(),setTimeout(this.checkVisible.bind(this),3e3)):this.pause()},this.run=function(){this.running||(this.running=!0,this.lastNow=window.performance.now(),this.animate())},this.pause=function(){this.running&&(this.running=!1)},this.setSize=function(){var width=this.div.clientWidth,height=this.div.clientHeight;width===this.renderer.width&&height===this.renderer.height||(this.renderer.view.style.width=width+"px",this.renderer.view.style.height=height+"px",this.renderer.resize(width,height),this.gridX=Math.floor(this.renderer.view.width/this.goalWidth),this.gridY=Math.floor(this.renderer.view.height/this.goalHeight),this.cellWidth=this.renderer.view.width/this.gridX,this.cellHeight=this.renderer.view.height/this.gridY,this.comets.forEach(function(comet){comet.destroy()}),this.starList.forEach(function(star){star.destroy()}),this.stage.removeChildren(),this.setup())},this.createCometGroup=function(x,star){star=this.findNearestStar(x,star);this.comets.push(new CometGroup(this,star,void 0,10,!1))},this.findNearestStar=function(x,y){for(var star,minDist=this.div.clientWidth+this.div.clientHeight,cellX=Math.floor(x/this.cellWidth),cellY=Math.floor(y/this.cellHeight),startX=Math.max(cellX-1,0),endX=cellX+1<this.gridX?cellX+1:cellX,startY=Math.max(cellY-1,0),endY=cellY+1<this.gridY?cellY+1:cellY,cx=startX;cx<=endX;cx++)for(var cy=startY;cy<=endY;cy++)this.cells[cx][cy].forEach(function(other){var dist=Math.sqrt(Math.pow(x-other.x,2)+Math.pow(y-other.y,2));dist<minDist&&(minDist=dist,star=other)});return star},this.setup=function(){this.stars={},this.starList=[],this.cells=[],this.comets=[],this.removeComets=[],this.activeStar=null,this.animatingStars=[],this.removeAnimatingStars=[],this.lastNow=window.performance.now();for(var gx=0;gx<this.gridX;gx++){for(var row=[],gy=0;gy<this.gridY;gy++){for(var col=[],n=0;n<this.starCount;n++){var star=new Star(this,Math.round(Math.random()*this.cellWidth+gx*this.cellWidth),Math.round(Math.random()*this.cellHeight+gy*this.cellHeight),gx,gy);this.stars[star.id]=star,this.starList.push(star),col.push(star)}row.push(col)}this.cells.push(row)}this.twinkleRate=1/(.2*this.starList.length),this.starList.forEach(function(star){star.setLinks()}),this.comets.push(new CometGroup(this,this.randomStar(),void 0,10,!0,1)),this.comets.push(new CometGroup(this,this.randomStar(),void 0,10,!0)),this.comets.push(new CometGroup(this,this.randomStar(),void 0,10,!0)),this.twinkleStar()},this.twinkleStar=function(){var star=this.randomStar();star.twinkling=!0,this.animatingStars.push(star)},this.randomStar=function(){return this.starList[Math.floor(Math.random()*this.starList.length)]};var lastTwinkle=0;this.animate=function(){var now,dt;this.running&&(window.requestAnimationFrame(this.animate.bind(this)),dt=((now=window.performance.now())-this.lastNow)/1e3,lastTwinkle+=dt,dt<1/24||(this.lastNow=now,lastTwinkle>this.twinkleRate&&(lastTwinkle=0,this.twinkleStar()),this.animateStars(dt),this.animateComets(dt),this.render()))},this.animateStars=function(dt){for(var r=0,l=this.animatingStars.length;r<l;r++)this.animatingStars[r].animate(dt);for(r=0,l=this.removeAnimatingStars.length;r<l;r++)removeItem(this.animatingStars,this.removeAnimatingStars[r]);this.removeAnimatingStars=[]},this.animateComets=function(dt){for(var r=0,l=this.comets.length;r<l;r++)this.comets[r].animate(dt);for(r=0,l=this.removeComets.length;r<l;r++)removeItem(this.comets,this.removeComets[r]);this.removeComets=[]},this.render=function(){this.renderer.render(this.stage)}}.call(StarChart.prototype),function(){this.addComet=function(star,next,hops){this.fading||this.children.push(new Comet(this.game,this,star,next,hops))},this.animate=function(dt){if(this.fading){this.alpha=Math.max(this.alpha-dt*(1/15),0);for(var r=STAR_COLORS[1]>>16&255,g=STAR_COLORS[1]>>8&255,b=255&STAR_COLORS[1],color=r+(255-r)*(1-this.alpha)<<16|g+(255-g)*(1-this.alpha)<<8|b+(255-b)*(1-this.alpha),vkeys=Object.keys(this.visited),i=0,l=vkeys.length;i<l;i++)this.game.stars[vkeys[i]].sprite.tint=color}for(i=0,l=this.children.length;i<l;i++)this.children[i].animate(dt,this.alpha);0===this.alpha&&this.destroy()},this.didHop=function(hop){this.added||10-hop!=8||(this.added=!0,this.game.comets.push(new CometGroup(this.game,this.game.randomStar(),void 0,10,this.addAnother)))},this.end=function(){this.ended++,this.ended===this.children.length&&this.fade()},this.fade=function(){if(!this.fading){this.fading=!0;for(var i=0,l=this.children.length;i<l;i++)this.children[i].fade();this.added||(this.added=!0,this.game.comets.push(new CometGroup(this.game,this.game.randomStar(),void 0,10,this.addAnother)))}},this.destroy=function(){for(var i=0,l=this.children.length;i<l;i++)this.children[i].destroy();var vkeys=Object.keys(this.visited);for(i=0,l=vkeys.length;i<l;i++)this.game.stars[vkeys[i]].sprite.tint=STAR_COLORS[1];this.game.removeComets.push(this)}}.call(CometGroup.prototype),function(){this.setNext=function(dy){this.parent.visited[this.fromStar.id]=!0,this.parent.visited[this.nextStar.id]=!0,this.speed=40*(1-Math.abs(this.fromStar.radius-this.nextStar.radius)/3*.7),this.speed*=.5+(this.fromStar.radius+this.nextStar.radius-2)/6*.5,!dy&&0<this.hops&&Math.random()<.35&&this.parent.addComet(this.fromStar,void 0,this.hops-1,!1);var dx=this.fromStar.x-this.nextStar.x,dy=this.fromStar.y-this.nextStar.y;this.angle=Math.atan2(dy,dx)+Math.PI,this.dist=Math.sqrt(Math.pow(dx,2)+Math.pow(dy,2)),this.currentLine=new this.game.pixi.Graphics,this.currentLine.alpha=this.parent.lineAlpha,this.currentLine.lineStyle(1,this.lineColor,1),this.currentLine.moveTo(-2,-2),this.currentLine.lineTo(-1,-1),this.game.stage.addChild(this.currentLine)},this.pickNext=function(first){if(this.hops<=0)return this.end();this.trip=0;for(var ikeys=Object.keys(this.fromStar.links),keys=[],i=0,l=ikeys.length;i<l;i++){var key=ikeys[i];this.parent.visited[key]||keys.push(key)}if(0===keys.length)return this.end();this.nextStar=this.fromStar.links[keys[Math.floor(Math.random()*keys.length)]],this.setNext(),first||(this.hops--,this.parent.didHop(this.hops))},this.end=function(){this.ending=!0,this.parent.end()},this.fade=function(){this.fading=!0},this.animate=function(dt,alpha){if(!this.ending||this.fading){if(this.trip+=dt*this.speed,this.ending&&1!==alpha){for(var i=0,l=this.lines.length;i<l;i++)this.lines[i].alpha=alpha*this.parent.lineAlpha;this.currentLine.alpha=alpha*this.parent.lineAlpha}this.ending||(this.sprite.x=this.fromStar.x+Math.cos(this.angle)*this.trip,this.sprite.y=this.fromStar.y+Math.sin(this.angle)*this.trip,this.currentLine.clear(),this.currentLine.lineStyle(1,this.lineColor,1),this.currentLine.moveTo(this.fromStar.x,this.fromStar.y),this.trip>=this.dist?(this.currentLine.lineTo(this.nextStar.x,this.nextStar.y),this.lines.push(this.currentLine),this.nextStar.sprite.tint=STAR_COLORS[0],this.fromStar=this.nextStar,this.pickNext()):this.currentLine.lineTo(this.sprite.x,this.sprite.y))}},this.destroy=function(){this.game.stage.removeChild(this.sprite);for(var i=0,l=this.lines.length;i<l;i++)this.game.stage.removeChild(this.lines[i]);this.game.stage.removeChild(this.currentLine)}}.call(Comet.prototype),function(){this.animate=function(dt){this.twinkling&&(this.alpha+=6*dt,this.sprite.alpha=this.targetAlpha-Math.sin(this.alpha)*(this.targetAlpha-.4),this.alpha>=Math.PI&&(this.alpha=0,this.sprite.alpha=this.targetAlpha,this.twinkling=!1,this.game.removeAnimatingStars.push(this)))},this.setLinks=function(){for(var neighbor,near=[],startX=Math.max(this.cellX-1,0),endX=this.cellX+1<this.game.gridX?this.cellX+1:this.cellX,startY=Math.max(this.cellY-1,0),endY=this.cellY+1<this.game.gridY?this.cellY+1:this.cellY,cx=startX;cx<=endX;cx++)for(var cy=startY;cy<=endY;cy++)this.game.cells[cx][cy].forEach(function(other){var dist;other===this||this.links.hasOwnProperty(other.id)||(dist=Math.sqrt(Math.pow(this.x-other.x,2)+Math.pow(this.y-other.y,2)),near.push({star:other,dist:dist}))}.bind(this));near.sort(function(a,b){return a.dist-b.dist});for(var i=0;near[i].dist<300&&Object.keys(this.links).length<=3;i++)neighbor=near[i].star,(this.links[neighbor.id]=neighbor).links[this.id]=this;0===Object.keys(this.links).length&&(neighbor=near[0].star,(this.links[neighbor.id]=neighbor).links[this.id]=this),this.game.stage.removeChild(this.sprite),this.game.stage.addChild(this.sprite)},this.destroy=function(){this.game.stage.removeChild(this.sprite),Object.keys(this.links).forEach(function(linkId){delete this.links[linkId].links[this.id]}.bind(this)),delete this.game.stars[this.id],removeItem(this.game.starList,this)}}.call(Star.prototype),animationEnabled=require("pixi.js"),starChart=new StarChart(starsElement,animationEnabled),(toggleAnimationButton=document.getElementById("toggle-animation")).addEventListener("click",function(event){setAnimationEnabled(!starChart.animationEnabled)}),setAnimationEnabled(animationEnabled="false"!==window.localStorage.getItem("ipfs.io:animation-enabled")),animationEnabled||starChart.render())}},{"pixi.js":150}],150:[function(require,module,exports){(function(global){(function(){"use strict";exports.__esModule=!0,exports.loader=exports.prepare=exports.particles=exports.mesh=exports.loaders=exports.interaction=exports.filters=exports.extras=exports.extract=exports.accessibility=void 0;var _polyfill=require("./polyfill");Object.keys(_polyfill).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _polyfill[key]}})});var _core=require("./core");Object.keys(_core).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _core[key]}})});var obj,_deprecation=require("./deprecation"),_deprecation2=(obj=_deprecation)&&obj.__esModule?obj:{default:obj},accessibility=_interopRequireWildcard(require("./accessibility")),extract=_interopRequireWildcard(require("./extract")),extras=_interopRequireWildcard(require("./extras")),filters=_interopRequireWildcard(require("./filters")),interaction=_interopRequireWildcard(require("./interaction")),loaders=_interopRequireWildcard(require("./loaders")),mesh=_interopRequireWildcard(require("./mesh")),particles=_interopRequireWildcard(require("./particles")),prepare=_interopRequireWildcard(require("./prepare"));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}_core.utils.mixins.performMixins();var loader=loaders.shared||null;exports.accessibility=accessibility,exports.extract=extract,exports.extras=extras,exports.filters=filters,exports.interaction=interaction,exports.loaders=loaders,exports.mesh=mesh,exports.particles=particles,exports.prepare=prepare,exports.loader=loader,"function"==typeof _deprecation2.default&&(0,_deprecation2.default)(exports),global.PIXI=exports}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":37,"./core":60,"./deprecation":126,"./extract":128,"./extras":136,"./filters":148,"./interaction":155,"./loaders":158,"./mesh":167,"./particles":170,"./polyfill":177,"./prepare":181}],181:[function(require,module,exports){"use strict";exports.__esModule=!0;var _WebGLPrepare=require("./webgl/WebGLPrepare");Object.defineProperty(exports,"webgl",{enumerable:!0,get:function(){return _interopRequireDefault(_WebGLPrepare).default}});var _CanvasPrepare=require("./canvas/CanvasPrepare");Object.defineProperty(exports,"canvas",{enumerable:!0,get:function(){return _interopRequireDefault(_CanvasPrepare).default}});var _BasePrepare=require("./BasePrepare");Object.defineProperty(exports,"BasePrepare",{enumerable:!0,get:function(){return _interopRequireDefault(_BasePrepare).default}});var _CountLimiter=require("./limiters/CountLimiter");Object.defineProperty(exports,"CountLimiter",{enumerable:!0,get:function(){return _interopRequireDefault(_CountLimiter).default}});var _TimeLimiter=require("./limiters/TimeLimiter");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"TimeLimiter",{enumerable:!0,get:function(){return _interopRequireDefault(_TimeLimiter).default}})},{"./BasePrepare":179,"./canvas/CanvasPrepare":180,"./limiters/CountLimiter":182,"./limiters/TimeLimiter":183,"./webgl/WebGLPrepare":184}],184:[function(WebGLPrepare,module,exports){"use strict";exports.__esModule=!0;var obj,core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(WebGLPrepare("../../core")),_BasePrepare2=WebGLPrepare("../BasePrepare");WebGLPrepare=function(_BasePrepare){function WebGLPrepare(_this){!function(instance){if(!(instance instanceof WebGLPrepare))throw new TypeError("Cannot call a class as a function")}(this);_this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_BasePrepare.call(this,_this));return _this.uploadHookHelper=_this.renderer,_this.registerFindHook(findGraphics),_this.registerUploadHook(uploadBaseTextures),_this.registerUploadHook(uploadGraphics),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(WebGLPrepare,_BasePrepare),WebGLPrepare}(((obj=_BasePrepare2)&&obj.__esModule?obj:{default:obj}).default);function uploadBaseTextures(renderer,item){return item instanceof core.BaseTexture&&(item._glTextures[renderer.CONTEXT_UID]||renderer.textureManager.updateTexture(item),!0)}function uploadGraphics(renderer,item){return item instanceof core.Graphics&&(!item.dirty&&!item.clearDirty&&item._webGL[renderer.plugins.graphics.CONTEXT_UID]||renderer.plugins.graphics.updateGraphics(item),!0)}function findGraphics(item,queue){return item instanceof core.Graphics&&(queue.push(item),!0)}exports.default=WebGLPrepare,core.WebGLRenderer.registerPlugin("prepare",WebGLPrepare)},{"../../core":60,"../BasePrepare":179}],183:[function(require,module,exports){"use strict";exports.__esModule=!0;var TimeLimiter=function(){function TimeLimiter(maxMilliseconds){!function(instance){if(!(instance instanceof TimeLimiter))throw new TypeError("Cannot call a class as a function")}(this),this.maxMilliseconds=maxMilliseconds,this.frameStart=0}return TimeLimiter.prototype.beginFrame=function(){this.frameStart=Date.now()},TimeLimiter.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},TimeLimiter}();exports.default=TimeLimiter},{}],180:[function(CanvasPrepare,module,exports){"use strict";exports.__esModule=!0;var obj,core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(CanvasPrepare("../../core")),_BasePrepare2=CanvasPrepare("../BasePrepare"),CanvasPrepare=(obj=_BasePrepare2)&&obj.__esModule?obj:{default:obj};var CANVAS_START_SIZE=16,CanvasPrepare=function(_BasePrepare){function CanvasPrepare(_this){!function(instance){if(!(instance instanceof CanvasPrepare))throw new TypeError("Cannot call a class as a function")}(this);_this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_BasePrepare.call(this,_this));return(_this.uploadHookHelper=_this).canvas=document.createElement("canvas"),_this.canvas.width=CANVAS_START_SIZE,_this.canvas.height=CANVAS_START_SIZE,_this.ctx=_this.canvas.getContext("2d"),_this.registerUploadHook(uploadBaseTextures),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(CanvasPrepare,_BasePrepare),CanvasPrepare.prototype.destroy=function(){_BasePrepare.prototype.destroy.call(this),this.ctx=null,this.canvas=null},CanvasPrepare}(CanvasPrepare.default);function uploadBaseTextures(prepare,imageHeight){if(imageHeight instanceof core.BaseTexture){var image=imageHeight.source,imageWidth=0===image.width?prepare.canvas.width:Math.min(prepare.canvas.width,image.width),imageHeight=0===image.height?prepare.canvas.height:Math.min(prepare.canvas.height,image.height);return prepare.ctx.drawImage(image,0,0,imageWidth,imageHeight,0,0,prepare.canvas.width,prepare.canvas.height),!0}return!1}exports.default=CanvasPrepare,core.CanvasRenderer.registerPlugin("prepare",CanvasPrepare)},{"../../core":60,"../BasePrepare":179}],179:[function(BasePrepare,module,exports){"use strict";exports.__esModule=!0;var obj,core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(BasePrepare("../core")),_CountLimiter=BasePrepare("./limiters/CountLimiter"),_CountLimiter2=(obj=_CountLimiter)&&obj.__esModule?obj:{default:obj};var SharedTicker=core.ticker.shared;core.settings.UPLOADS_PER_FRAME=4;BasePrepare=function(){function BasePrepare(renderer){var _this=this;!function(instance){if(!(instance instanceof BasePrepare))throw new TypeError("Cannot call a class as a function")}(this),this.limiter=new _CountLimiter2.default(core.settings.UPLOADS_PER_FRAME),this.renderer=renderer,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){_this.queue&&_this.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}return BasePrepare.prototype.upload=function(item,done){"function"==typeof item&&(done=item,item=null),item&&this.add(item),this.queue.length?(done&&this.completes.push(done),this.ticking||(this.ticking=!0,SharedTicker.addOnce(this.tick,this,core.UPDATE_PRIORITY.UTILITY))):done&&done()},BasePrepare.prototype.tick=function(){setTimeout(this.delayedTick,0)},BasePrepare.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var item=this.queue[0],uploaded=!1;if(item&&!item._destroyed)for(var i=0,len=this.uploadHooks.length;i<len;i++)if(this.uploadHooks[i](this.uploadHookHelper,item)){this.queue.shift(),uploaded=!0;break}uploaded||this.queue.shift()}if(this.queue.length)SharedTicker.addOnce(this.tick,this,core.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;for(var completes=this.completes.slice(0),_i=this.completes.length=0,_len=completes.length;_i<_len;_i++)completes[_i]()}},BasePrepare.prototype.registerFindHook=function(addHook){return addHook&&this.addHooks.push(addHook),this},BasePrepare.prototype.registerUploadHook=function(uploadHook){return uploadHook&&this.uploadHooks.push(uploadHook),this},BasePrepare.prototype.add=function(item){for(var i=0,len=this.addHooks.length;i<len&&!this.addHooks[i](item,this.queue);i++);if(item instanceof core.Container)for(var _i2=item.children.length-1;0<=_i2;_i2--)this.add(item.children[_i2]);return this},BasePrepare.prototype.destroy=function(){this.ticking&&SharedTicker.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},BasePrepare}();function findMultipleBaseTextures(item,queue){var result=!1;if(item&&item._textures&&item._textures.length)for(var baseTexture,i=0;i<item._textures.length;i++)item._textures[i]instanceof core.Texture&&(baseTexture=item._textures[i].baseTexture,-1===queue.indexOf(baseTexture)&&(queue.push(baseTexture),result=!0));return result}function findBaseTexture(item,queue){return item instanceof core.BaseTexture&&(-1===queue.indexOf(item)&&queue.push(item),!0)}function findTexture(texture,queue){if(texture._texture&&texture._texture instanceof core.Texture){texture=texture._texture.baseTexture;return-1===queue.indexOf(texture)&&queue.push(texture),!0}return!1}function drawText(helper,item){return item instanceof core.Text&&(item.updateText(!0),!0)}function calculateTextStyle(helper,font){if(font instanceof core.TextStyle){font=font.toFontString();return core.TextMetrics.measureFont(font),!0}return!1}function findText(texture,queue){if(texture instanceof core.Text){-1===queue.indexOf(texture.style)&&queue.push(texture.style),-1===queue.indexOf(texture)&&queue.push(texture);texture=texture._texture.baseTexture;return-1===queue.indexOf(texture)&&queue.push(texture),!0}return!1}function findTextStyle(item,queue){return item instanceof core.TextStyle&&(-1===queue.indexOf(item)&&queue.push(item),!0)}exports.default=BasePrepare},{"../core":60,"./limiters/CountLimiter":182}],182:[function(require,module,exports){"use strict";exports.__esModule=!0;var CountLimiter=function(){function CountLimiter(maxItemsPerFrame){!function(instance){if(!(instance instanceof CountLimiter))throw new TypeError("Cannot call a class as a function")}(this),this.maxItemsPerFrame=maxItemsPerFrame,this.itemsLeft=0}return CountLimiter.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},CountLimiter.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},CountLimiter}();exports.default=CountLimiter},{}],177:[function(require,module,exports){"use strict";require("./Object.assign"),require("./requestAnimationFrame"),require("./Math.sign"),require("./Number.isInteger"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":174,"./Number.isInteger":175,"./Object.assign":176,"./requestAnimationFrame":178}],178:[function(require,module,exports){(function(global){(function(){"use strict";var startTime;Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),global.performance&&global.performance.now||(startTime=Date.now(),global.performance||(global.performance={}),global.performance.now=function(){return Date.now()-startTime});for(var lastTime=Date.now(),vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!global.requestAnimationFrame;++x){var p=vendors[x];global.requestAnimationFrame=global[p+"RequestAnimationFrame"],global.cancelAnimationFrame=global[p+"CancelAnimationFrame"]||global[p+"CancelRequestAnimationFrame"]}global.requestAnimationFrame||(global.requestAnimationFrame=function(callback){if("function"!=typeof callback)throw new TypeError(callback+"is not a function");var currentTime=Date.now(),delay=16+lastTime-currentTime;return delay<0&&(delay=0),lastTime=currentTime,setTimeout(function(){lastTime=Date.now(),callback(performance.now())},delay)}),global.cancelAnimationFrame||(global.cancelAnimationFrame=function(id){return clearTimeout(id)})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],176:[function(_objectAssign2,module,exports){"use strict";var obj,_objectAssign=_objectAssign2("object-assign"),_objectAssign2=(obj=_objectAssign)&&obj.__esModule?obj:{default:obj};Object.assign||(Object.assign=_objectAssign2.default)},{"object-assign":15}],15:[function(require,module,exports){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(){try{if(!Object.assign)return;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map(function(n){return test2[n]}).join(""))return;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},test3)).join("")?void 0:1}catch(err){return}}()?Object.assign:function(target,source){for(var from,symbols,to=function(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},{}],175:[function(require,module,exports){"use strict";Number.isInteger||(Number.isInteger=function(value){return"number"==typeof value&&isFinite(value)&&Math.floor(value)===value})},{}],174:[function(require,module,exports){"use strict";Math.sign||(Math.sign=function(x){return 0===(x=Number(x))||isNaN(x)?x:0<x?1:-1})},{}],170:[function(require,module,exports){"use strict";exports.__esModule=!0;var _ParticleContainer=require("./ParticleContainer");Object.defineProperty(exports,"ParticleContainer",{enumerable:!0,get:function(){return _interopRequireDefault(_ParticleContainer).default}});var _ParticleRenderer=require("./webgl/ParticleRenderer");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"ParticleRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(_ParticleRenderer).default}})},{"./ParticleContainer":169,"./webgl/ParticleRenderer":172}],172:[function(ParticleRenderer,module,exports){"use strict";exports.__esModule=!0;var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(ParticleRenderer("../../core")),_ParticleShader2=_interopRequireDefault(ParticleRenderer("./ParticleShader")),_ParticleBuffer2=_interopRequireDefault(ParticleRenderer("./ParticleBuffer")),_utils=ParticleRenderer("../../core/utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}ParticleRenderer=function(_core$ObjectRenderer){function ParticleRenderer(_this){!function(instance){if(!(instance instanceof ParticleRenderer))throw new TypeError("Cannot call a class as a function")}(this);_this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$ObjectRenderer.call(this,_this));return _this.shader=null,_this.indexBuffer=null,_this.properties=null,_this.tempMatrix=new core.Matrix,_this.CONTEXT_UID=0,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ParticleRenderer,_core$ObjectRenderer),ParticleRenderer.prototype.onContextChange=function(){var gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new _ParticleShader2.default(gl),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},ParticleRenderer.prototype.start=function(){this.renderer.bindShader(this.shader)},ParticleRenderer.prototype.render=function(container){var children=container.children,m=container._maxSize,batchSize=container._batchSize,renderer=this.renderer,totalChildren=children.length;if(0!==totalChildren){m<totalChildren&&(totalChildren=m);var buffers=(buffers=container._glBuffers[renderer.CONTEXT_UID])||(container._glBuffers[renderer.CONTEXT_UID]=this.generateBuffers(container)),baseTexture=children[0]._texture.baseTexture;this.renderer.setBlendMode(core.utils.correctBlendMode(container.blendMode,baseTexture.premultipliedAlpha));var gl=renderer.gl,m=container.worldTransform.copy(this.tempMatrix);m.prepend(renderer._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=m.toArray(!0),this.shader.uniforms.uColor=core.utils.premultiplyRgba(container.tintRgb,container.worldAlpha,this.shader.uniforms.uColor,baseTexture.premultipliedAlpha),this.shader.uniforms.uSampler=renderer.bindTexture(baseTexture);for(var updateStatic=!1,i=0,j=0;i<totalChildren;i+=batchSize,j+=1){var amount=totalChildren-i;if(batchSize<amount&&(amount=batchSize),j>=buffers.length){if(!container.autoResize)break;buffers.push(this._generateOneMoreBuffer(container))}var buffer=buffers[j];buffer.uploadDynamic(children,i,amount);var bid=container._bufferUpdateIDs[j]||0;(updateStatic=updateStatic||buffer._updateID<bid)&&(buffer._updateID=container._updateID,buffer.uploadStatic(children,i,amount)),renderer.bindVao(buffer.vao),buffer.vao.draw(gl.TRIANGLES,6*amount)}}},ParticleRenderer.prototype.generateBuffers=function(container){for(var gl=this.renderer.gl,buffers=[],size=container._maxSize,batchSize=container._batchSize,dynamicPropertyFlags=container._properties,i=0;i<size;i+=batchSize)buffers.push(new _ParticleBuffer2.default(gl,this.properties,dynamicPropertyFlags,batchSize));return buffers},ParticleRenderer.prototype._generateOneMoreBuffer=function(dynamicPropertyFlags){var gl=this.renderer.gl,batchSize=dynamicPropertyFlags._batchSize,dynamicPropertyFlags=dynamicPropertyFlags._properties;return new _ParticleBuffer2.default(gl,this.properties,dynamicPropertyFlags,batchSize)},ParticleRenderer.prototype.uploadVertices=function(children,startIndex,amount,array,stride,offset){for(var w0=0,w1=0,h0=0,h1=0,i=0;i<amount;++i){var sprite=children[startIndex+i],orig=sprite._texture,sx=sprite.scale.x,sy=sprite.scale.y,trim=orig.trim,orig=orig.orig;trim?(w0=(w1=trim.x-sprite.anchor.x*orig.width)+trim.width,h0=(h1=trim.y-sprite.anchor.y*orig.height)+trim.height):(w0=orig.width*(1-sprite.anchor.x),w1=orig.width*-sprite.anchor.x,h0=orig.height*(1-sprite.anchor.y),h1=orig.height*-sprite.anchor.y),array[offset]=w1*sx,array[offset+1]=h1*sy,array[offset+stride]=w0*sx,array[offset+stride+1]=h1*sy,array[offset+2*stride]=w0*sx,array[offset+2*stride+1]=h0*sy,array[offset+3*stride]=w1*sx,array[offset+3*stride+1]=h0*sy,offset+=4*stride}},ParticleRenderer.prototype.uploadPosition=function(children,startIndex,amount,array,stride,offset){for(var i=0;i<amount;i++){var spritePosition=children[startIndex+i].position;array[offset]=spritePosition.x,array[offset+1]=spritePosition.y,array[offset+stride]=spritePosition.x,array[offset+stride+1]=spritePosition.y,array[offset+2*stride]=spritePosition.x,array[offset+2*stride+1]=spritePosition.y,array[offset+3*stride]=spritePosition.x,array[offset+3*stride+1]=spritePosition.y,offset+=4*stride}},ParticleRenderer.prototype.uploadRotation=function(children,startIndex,amount,array,stride,offset){for(var i=0;i<amount;i++){var spriteRotation=children[startIndex+i].rotation;array[offset]=spriteRotation,array[offset+stride]=spriteRotation,array[offset+2*stride]=spriteRotation,array[offset+3*stride]=spriteRotation,offset+=4*stride}},ParticleRenderer.prototype.uploadUvs=function(children,startIndex,amount,array,stride,offset){for(var i=0;i<amount;++i){var textureUvs=children[startIndex+i]._texture._uvs;textureUvs?(array[offset]=textureUvs.x0,array[offset+1]=textureUvs.y0,array[offset+stride]=textureUvs.x1,array[offset+stride+1]=textureUvs.y1,array[offset+2*stride]=textureUvs.x2,array[offset+2*stride+1]=textureUvs.y2,array[offset+3*stride]=textureUvs.x3,array[offset+3*stride+1]=textureUvs.y3):(array[offset]=0,array[offset+1]=0,array[offset+stride]=0,array[offset+stride+1]=0,array[offset+2*stride]=0,array[offset+2*stride+1]=0,array[offset+3*stride]=0,array[offset+3*stride+1]=0),offset+=4*stride}},ParticleRenderer.prototype.uploadTint=function(children,startIndex,amount,array,stride,offset){for(var i=0;i<amount;++i){var sprite=children[startIndex+i],premultiplied=sprite._texture.baseTexture.premultipliedAlpha,argb=sprite.alpha,argb=argb<1&&premultiplied?(0,_utils.premultiplyTint)(sprite._tintRGB,argb):sprite._tintRGB+(255*argb<<24);array[offset]=argb,array[offset+stride]=argb,array[offset+2*stride]=argb,array[offset+3*stride]=argb,offset+=4*stride}},ParticleRenderer.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),_core$ObjectRenderer.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},ParticleRenderer}(core.ObjectRenderer);exports.default=ParticleRenderer,core.WebGLRenderer.registerPlugin("particle",ParticleRenderer)},{"../../core":60,"../../core/utils":120,"./ParticleBuffer":171,"./ParticleShader":173}],173:[function(ParticleShader,module,exports){"use strict";exports.__esModule=!0;var obj,_Shader2=ParticleShader("../../core/Shader");ParticleShader=function(_Shader){function ParticleShader(gl){return function(instance){if(!(instance instanceof ParticleShader))throw new TypeError("Cannot call a class as a function")}(this),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_Shader.call(this,gl,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ParticleShader,_Shader),ParticleShader}(((obj=_Shader2)&&obj.__esModule?obj:{default:obj}).default);exports.default=ParticleShader},{"../../core/Shader":39}],171:[function(ParticleBuffer,module,exports){"use strict";exports.__esModule=!0;var _pixiGlCore2=_interopRequireDefault(ParticleBuffer("pixi-gl-core")),_createIndicesForQuads2=_interopRequireDefault(ParticleBuffer("../../core/utils/createIndicesForQuads"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}ParticleBuffer=function(){function ParticleBuffer(gl,properties,dynamicPropertyFlags,size){!function(instance){if(!(instance instanceof ParticleBuffer))throw new TypeError("Cannot call a class as a function")}(this),this.gl=gl,this.size=size,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<properties.length;++i){var property={attribute:(property=properties[i]).attribute,size:property.size,uploadFunction:property.uploadFunction,unsignedByte:property.unsignedByte,offset:property.offset};(dynamicPropertyFlags[i]?this.dynamicProperties:this.staticProperties).push(property)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return ParticleBuffer.prototype.initBuffers=function(){var gl=this.gl,dynamicOffset=0;this.indices=(0,_createIndicesForQuads2.default)(this.size),this.indexBuffer=_pixiGlCore2.default.GLBuffer.createIndexBuffer(gl,this.indices,gl.STATIC_DRAW);for(var i=this.dynamicStride=0;i<this.dynamicProperties.length;++i){var property=this.dynamicProperties[i];property.offset=dynamicOffset,dynamicOffset+=property.size,this.dynamicStride+=property.size}var statBuffer=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(statBuffer),this.dynamicDataUint32=new Uint32Array(statBuffer),this.dynamicBuffer=_pixiGlCore2.default.GLBuffer.createVertexBuffer(gl,statBuffer,gl.STREAM_DRAW);for(var staticOffset=0,_i=this.staticStride=0;_i<this.staticProperties.length;++_i){var _property=this.staticProperties[_i];_property.offset=staticOffset,staticOffset+=_property.size,this.staticStride+=_property.size}statBuffer=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(statBuffer),this.staticDataUint32=new Uint32Array(statBuffer),this.staticBuffer=_pixiGlCore2.default.GLBuffer.createVertexBuffer(gl,statBuffer,gl.STATIC_DRAW),this.vao=new _pixiGlCore2.default.VertexArrayObject(gl).addIndex(this.indexBuffer);for(var _i2=0;_i2<this.dynamicProperties.length;++_i2){var _property2=this.dynamicProperties[_i2];_property2.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,_property2.attribute,gl.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*_property2.offset):this.vao.addAttribute(this.dynamicBuffer,_property2.attribute,gl.FLOAT,!1,4*this.dynamicStride,4*_property2.offset)}for(var _i3=0;_i3<this.staticProperties.length;++_i3){var _property3=this.staticProperties[_i3];_property3.unsignedByte?this.vao.addAttribute(this.staticBuffer,_property3.attribute,gl.UNSIGNED_BYTE,!0,4*this.staticStride,4*_property3.offset):this.vao.addAttribute(this.staticBuffer,_property3.attribute,gl.FLOAT,!1,4*this.staticStride,4*_property3.offset)}},ParticleBuffer.prototype.uploadDynamic=function(children,startIndex,amount){for(var i=0;i<this.dynamicProperties.length;i++){var property=this.dynamicProperties[i];property.uploadFunction(children,startIndex,amount,property.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,property.offset)}this.dynamicBuffer.upload()},ParticleBuffer.prototype.uploadStatic=function(children,startIndex,amount){for(var i=0;i<this.staticProperties.length;i++){var property=this.staticProperties[i];property.uploadFunction(children,startIndex,amount,property.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,property.offset)}this.staticBuffer.upload()},ParticleBuffer.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},ParticleBuffer}();exports.default=ParticleBuffer},{"../../core/utils/createIndicesForQuads":118,"pixi-gl-core":24}],169:[function(ParticleContainer,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(ParticleContainer("../core")),_utils=ParticleContainer("../core/utils");ParticleContainer=function(_core$Container){function ParticleContainer(){var maxSize=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,properties=arguments[1],batchSize=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384,autoResize=3<arguments.length&&void 0!==arguments[3]&&arguments[3];!function(instance){if(!(instance instanceof ParticleContainer))throw new TypeError("Cannot call a class as a function")}(this);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$Container.call(this));return 16384<batchSize&&(batchSize=16384),maxSize<batchSize&&(batchSize=maxSize),_this._properties=[!1,!0,!1,!1,!1],_this._maxSize=maxSize,_this._batchSize=batchSize,_this._glBuffers={},_this._bufferUpdateIDs=[],_this._updateID=0,_this.interactiveChildren=!1,_this.blendMode=core.BLEND_MODES.NORMAL,_this.autoResize=autoResize,_this.roundPixels=!0,_this.baseTexture=null,_this.setProperties(properties),_this._tint=0,_this.tintRgb=new Float32Array(4),_this.tint=16777215,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ParticleContainer,_core$Container),ParticleContainer.prototype.setProperties=function(properties){properties&&(this._properties[0]="vertices"in properties||"scale"in properties?!!properties.vertices||!!properties.scale:this._properties[0],this._properties[1]="position"in properties?!!properties.position:this._properties[1],this._properties[2]="rotation"in properties?!!properties.rotation:this._properties[2],this._properties[3]="uvs"in properties?!!properties.uvs:this._properties[3],this._properties[4]="tint"in properties||"alpha"in properties?!!properties.tint||!!properties.alpha:this._properties[4])},ParticleContainer.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},ParticleContainer.prototype.renderWebGL=function(renderer){var _this2=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return _this2.onChildrenChange(0)})),renderer.setObjectRenderer(renderer.plugins.particle),renderer.plugins.particle.render(this))},ParticleContainer.prototype.onChildrenChange=function(smallestChildIndex){for(var bufferIndex=Math.floor(smallestChildIndex/this._batchSize);this._bufferUpdateIDs.length<bufferIndex;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[bufferIndex]=++this._updateID},ParticleContainer.prototype.renderCanvas=function(renderer){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var context=renderer.context,transform=this.worldTransform,isRotated=!0,positionX=0,positionY=0,finalWidth=0,finalHeight=0;renderer.setBlendMode(this.blendMode),context.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var i=0;i<this.children.length;++i){var frame,resolution,child=this.children[i];child.visible&&(frame=child._texture.frame,context.globalAlpha=this.worldAlpha*child.alpha,finalHeight=child.rotation%(2*Math.PI)==0?(isRotated&&(context.setTransform(transform.a,transform.b,transform.c,transform.d,transform.tx*renderer.resolution,transform.ty*renderer.resolution),isRotated=!1),positionX=child.anchor.x*(-frame.width*child.scale.x)+child.position.x+.5,positionY=child.anchor.y*(-frame.height*child.scale.y)+child.position.y+.5,finalWidth=frame.width*child.scale.x,frame.height*child.scale.y):(isRotated=isRotated||!0,child.displayObjectUpdateTransform(),resolution=child.worldTransform,renderer.roundPixels?context.setTransform(resolution.a,resolution.b,resolution.c,resolution.d,resolution.tx*renderer.resolution|0,resolution.ty*renderer.resolution|0):context.setTransform(resolution.a,resolution.b,resolution.c,resolution.d,resolution.tx*renderer.resolution,resolution.ty*renderer.resolution),positionX=child.anchor.x*-frame.width+.5,positionY=child.anchor.y*-frame.height+.5,finalWidth=frame.width,frame.height),resolution=child._texture.baseTexture.resolution,context.drawImage(child._texture.baseTexture.source,frame.x*resolution,frame.y*resolution,frame.width*resolution,frame.height*resolution,positionX*renderer.resolution,positionY*renderer.resolution,finalWidth*renderer.resolution,finalHeight*renderer.resolution))}}},ParticleContainer.prototype.destroy=function(options){if(_core$Container.prototype.destroy.call(this,options),this._buffers)for(var i=0;i<this._buffers.length;++i)this._buffers[i].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},_createClass(ParticleContainer,[{key:"tint",get:function(){return this._tint},set:function(value){this._tint=value,(0,_utils.hex2rgb)(value,this.tintRgb)}}]),ParticleContainer}(core.Container);exports.default=ParticleContainer},{"../core":60,"../core/utils":120}],167:[function(require,module,exports){"use strict";exports.__esModule=!0;var _Mesh=require("./Mesh");Object.defineProperty(exports,"Mesh",{enumerable:!0,get:function(){return _interopRequireDefault(_Mesh).default}});var _MeshRenderer=require("./webgl/MeshRenderer");Object.defineProperty(exports,"MeshRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(_MeshRenderer).default}});var _CanvasMeshRenderer=require("./canvas/CanvasMeshRenderer");Object.defineProperty(exports,"CanvasMeshRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(_CanvasMeshRenderer).default}});var _Plane=require("./Plane");Object.defineProperty(exports,"Plane",{enumerable:!0,get:function(){return _interopRequireDefault(_Plane).default}});var _NineSlicePlane=require("./NineSlicePlane");Object.defineProperty(exports,"NineSlicePlane",{enumerable:!0,get:function(){return _interopRequireDefault(_NineSlicePlane).default}});var _Rope=require("./Rope");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"Rope",{enumerable:!0,get:function(){return _interopRequireDefault(_Rope).default}})},{"./Mesh":162,"./NineSlicePlane":163,"./Plane":164,"./Rope":165,"./canvas/CanvasMeshRenderer":166,"./webgl/MeshRenderer":168}],168:[function(MeshRenderer,module,exports){"use strict";exports.__esModule=!0;var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(MeshRenderer("../../core")),_pixiGlCore2=_interopRequireDefault(MeshRenderer("pixi-gl-core")),_Mesh2=_interopRequireDefault(MeshRenderer("../Mesh"));MeshRenderer("path");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var matrixIdentity=core.Matrix.IDENTITY,MeshRenderer=function(_core$ObjectRenderer){function MeshRenderer(_this){!function(instance){if(!(instance instanceof MeshRenderer))throw new TypeError("Cannot call a class as a function")}(this);_this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$ObjectRenderer.call(this,_this));return _this.shader=null,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(MeshRenderer,_core$ObjectRenderer),MeshRenderer.prototype.onContextChange=function(){var gl=this.renderer.gl;this.shader=new core.Shader(gl,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},MeshRenderer.prototype.render=function(mesh){var glData,renderer=this.renderer,drawMode=renderer.gl,texture=mesh._texture;texture.valid&&((glData=mesh._glDatas[renderer.CONTEXT_UID])||(renderer.bindVao(null),(glData={shader:this.shader,vertexBuffer:_pixiGlCore2.default.GLBuffer.createVertexBuffer(drawMode,mesh.vertices,drawMode.STREAM_DRAW),uvBuffer:_pixiGlCore2.default.GLBuffer.createVertexBuffer(drawMode,mesh.uvs,drawMode.STREAM_DRAW),indexBuffer:_pixiGlCore2.default.GLBuffer.createIndexBuffer(drawMode,mesh.indices,drawMode.STATIC_DRAW),vao:null,dirty:mesh.dirty,indexDirty:mesh.indexDirty,vertexDirty:mesh.vertexDirty}).vao=new _pixiGlCore2.default.VertexArrayObject(drawMode).addIndex(glData.indexBuffer).addAttribute(glData.vertexBuffer,glData.shader.attributes.aVertexPosition,drawMode.FLOAT,!1,8,0).addAttribute(glData.uvBuffer,glData.shader.attributes.aTextureCoord,drawMode.FLOAT,!1,8,0),mesh._glDatas[renderer.CONTEXT_UID]=glData),renderer.bindVao(glData.vao),mesh.dirty!==glData.dirty&&(glData.dirty=mesh.dirty,glData.uvBuffer.upload(mesh.uvs)),mesh.indexDirty!==glData.indexDirty&&(glData.indexDirty=mesh.indexDirty,glData.indexBuffer.upload(mesh.indices)),mesh.vertexDirty!==glData.vertexDirty&&(glData.vertexDirty=mesh.vertexDirty,glData.vertexBuffer.upload(mesh.vertices)),renderer.bindShader(glData.shader),glData.shader.uniforms.uSampler=renderer.bindTexture(texture),renderer.state.setBlendMode(core.utils.correctBlendMode(mesh.blendMode,texture.baseTexture.premultipliedAlpha)),glData.shader.uniforms.uTransform&&(mesh.uploadUvTransform?glData.shader.uniforms.uTransform=mesh._uvTransform.mapCoord.toArray(!0):glData.shader.uniforms.uTransform=matrixIdentity.toArray(!0)),glData.shader.uniforms.translationMatrix=mesh.worldTransform.toArray(!0),glData.shader.uniforms.uColor=core.utils.premultiplyRgba(mesh.tintRgb,mesh.worldAlpha,glData.shader.uniforms.uColor,texture.baseTexture.premultipliedAlpha),drawMode=mesh.drawMode===_Mesh2.default.DRAW_MODES.TRIANGLE_MESH?drawMode.TRIANGLE_STRIP:drawMode.TRIANGLES,glData.vao.draw(drawMode,mesh.indices.length,0))},MeshRenderer}(core.ObjectRenderer);exports.default=MeshRenderer,core.WebGLRenderer.registerPlugin("mesh",MeshRenderer)},{"../../core":60,"../Mesh":162,path:17,"pixi-gl-core":24}],166:[function(MeshSpriteRenderer,module,exports){"use strict";exports.__esModule=!0;var obj,core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(MeshSpriteRenderer("../../core")),_Mesh=MeshSpriteRenderer("../Mesh"),_Mesh2=(obj=_Mesh)&&obj.__esModule?obj:{default:obj};MeshSpriteRenderer=function(){function MeshSpriteRenderer(renderer){!function(instance){if(!(instance instanceof MeshSpriteRenderer))throw new TypeError("Cannot call a class as a function")}(this),this.renderer=renderer}return MeshSpriteRenderer.prototype.render=function(mesh){var renderer=this.renderer,context=renderer.context,transform=mesh.worldTransform,res=renderer.resolution;renderer.roundPixels?context.setTransform(transform.a*res,transform.b*res,transform.c*res,transform.d*res,transform.tx*res|0,transform.ty*res|0):context.setTransform(transform.a*res,transform.b*res,transform.c*res,transform.d*res,transform.tx*res,transform.ty*res),renderer.context.globalAlpha=mesh.worldAlpha,renderer.setBlendMode(mesh.blendMode),mesh.drawMode===_Mesh2.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(mesh):this._renderTriangles(mesh)},MeshSpriteRenderer.prototype._renderTriangleMesh=function(mesh){for(var length=mesh.vertices.length/2,i=0;i<length-2;i++){var index=2*i;this._renderDrawTriangle(mesh,index,2+index,4+index)}},MeshSpriteRenderer.prototype._renderTriangles=function(mesh){for(var indices=mesh.indices,length=indices.length,i=0;i<length;i+=3){var index0=2*indices[i],index1=2*indices[i+1],index2=2*indices[i+2];this._renderDrawTriangle(mesh,index0,index1,index2)}},MeshSpriteRenderer.prototype._renderDrawTriangle=function(normX,y2,centerX,centerY){var base,textureSource,textureWidth,textureHeight,u0,u1,u2,v0,v1,y0,delta,deltaA,deltaB,deltaC,deltaE,deltaF,context=this.renderer.context,y1=normX.uvs,paddingX=normX.vertices,deltaD=normX._texture;deltaD.valid&&(textureSource=(base=deltaD.baseTexture).source,textureWidth=base.width,textureHeight=base.height,deltaF=v1=v0=u2=u1=u0=void 0,deltaF=normX.uploadUvTransform?(y0=normX._uvTransform.mapCoord,u0=(y1[y2]*y0.a+y1[y2+1]*y0.c+y0.tx)*base.width,u1=(y1[centerX]*y0.a+y1[centerX+1]*y0.c+y0.tx)*base.width,u2=(y1[centerY]*y0.a+y1[centerY+1]*y0.c+y0.tx)*base.width,v0=(y1[y2]*y0.b+y1[y2+1]*y0.d+y0.ty)*base.height,v1=(y1[centerX]*y0.b+y1[centerX+1]*y0.d+y0.ty)*base.height,(y1[centerY]*y0.b+y1[centerY+1]*y0.d+y0.ty)*base.height):(u0=y1[y2]*base.width,u1=y1[centerX]*base.width,u2=y1[centerY]*base.width,v0=y1[y2+1]*base.height,v1=y1[centerX+1]*base.height,y1[centerY+1]*base.height),deltaC=paddingX[y2],deltaE=paddingX[centerX],deltaD=paddingX[centerY],y0=paddingX[y2+1],y1=paddingX[centerX+1],y2=paddingX[centerY+1],0<(centerX=normX.canvasPadding/this.renderer.resolution)&&(paddingX=centerX/Math.abs(normX.worldTransform.a),deltaB=centerX/Math.abs(normX.worldTransform.d),delta=y0-(centerY=(y0+y1+y2)/3),deltaC=(centerX=(deltaC+deltaE+deltaD)/3)+(normX=deltaC-centerX)/(deltaA=Math.sqrt(normX*normX+delta*delta))*(deltaA+paddingX),y0=centerY+delta/deltaA*(deltaA+deltaB),delta=y1-centerY,deltaE=centerX+(normX=deltaE-centerX)/(deltaA=Math.sqrt(normX*normX+delta*delta))*(deltaA+paddingX),y1=centerY+delta/deltaA*(deltaA+deltaB),delta=y2-centerY,deltaD=centerX+(normX=deltaD-centerX)/(deltaA=Math.sqrt(normX*normX+delta*delta))*(deltaA+paddingX),y2=centerY+delta/deltaA*(deltaA+deltaB)),context.save(),context.beginPath(),context.moveTo(deltaC,y0),context.lineTo(deltaE,y1),context.lineTo(deltaD,y2),context.closePath(),context.clip(),delta=u0*v1+v0*u2+u1*deltaF-v1*u2-v0*u1-u0*deltaF,deltaA=deltaC*v1+v0*deltaD+deltaE*deltaF-v1*deltaD-v0*deltaE-deltaC*deltaF,deltaB=u0*deltaE+deltaC*u2+u1*deltaD-deltaE*u2-deltaC*u1-u0*deltaD,deltaC=u0*v1*deltaD+v0*deltaE*u2+deltaC*u1*deltaF-deltaC*v1*u2-v0*u1*deltaD-u0*deltaE*deltaF,deltaD=y0*v1+v0*y2+y1*deltaF-v1*y2-v0*y1-y0*deltaF,deltaE=u0*y1+y0*u2+u1*y2-y1*u2-y0*u1-u0*y2,deltaF=u0*v1*y2+v0*y1*u2+y0*u1*deltaF-y0*v1*u2-v0*u1*y2-u0*y1*deltaF,context.transform(deltaA/delta,deltaD/delta,deltaB/delta,deltaE/delta,deltaC/delta,deltaF/delta),context.drawImage(textureSource,0,0,textureWidth*base.resolution,textureHeight*base.resolution,0,0,textureWidth,textureHeight),context.restore(),this.renderer.invalidateBlendMode())},MeshSpriteRenderer.prototype.renderMeshFlat=function(mesh){var context=this.renderer.context,vertices=mesh.vertices,length=vertices.length/2;context.beginPath();for(var i=1;i<length-2;++i){var y2=2*i,x0=vertices[y2],y0=vertices[1+y2],x1=vertices[2+y2],y1=vertices[3+y2],x2=vertices[4+y2],y2=vertices[5+y2];context.moveTo(x0,y0),context.lineTo(x1,y1),context.lineTo(x2,y2)}context.fillStyle="#FF0000",context.fill(),context.closePath()},MeshSpriteRenderer.prototype.destroy=function(){this.renderer=null},MeshSpriteRenderer}();exports.default=MeshSpriteRenderer,core.CanvasRenderer.registerPlugin("mesh",MeshSpriteRenderer)},{"../../core":60,"../Mesh":162}],165:[function(Rope,module,exports){"use strict";exports.__esModule=!0;var obj,_Mesh2=Rope("./Mesh");Rope=function(_Mesh){function Rope(_this,points){!function(instance){if(!(instance instanceof Rope))throw new TypeError("Cannot call a class as a function")}(this);_this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_Mesh.call(this,_this));return _this.points=points,_this.vertices=new Float32Array(4*points.length),_this.uvs=new Float32Array(4*points.length),_this.colors=new Float32Array(2*points.length),_this.indices=new Uint16Array(2*points.length),_this.autoUpdate=!0,_this.refresh(),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Rope,_Mesh),Rope.prototype._refresh=function(){var points=this.points;if(!(points.length<1)&&this._texture._uvs){this.vertices.length/4!==points.length&&(this.vertices=new Float32Array(4*points.length),this.uvs=new Float32Array(4*points.length),this.colors=new Float32Array(2*points.length),this.indices=new Uint16Array(2*points.length));var uvs=this.uvs,indices=this.indices,colors=this.colors;uvs[0]=0,uvs[1]=0,uvs[2]=0,uvs[3]=1,colors[0]=1,colors[1]=1,indices[0]=0,indices[1]=1;for(var total=points.length,i=1;i<total;i++){var index=4*i,amount=i/(total-1);uvs[index]=amount,uvs[1+index]=0,uvs[2+index]=amount,uvs[3+index]=1,colors[index=2*i]=1,colors[1+index]=1,indices[index=2*i]=index,indices[1+index]=1+index}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},Rope.prototype.refreshVertices=function(){var points=this.points;if(!(points.length<1))for(var lastPoint=points[0],nextPoint=void 0,vertices=this.vertices,total=points.length,i=0;i<total;i++){var point=points[i],index=4*i,perpY=-((nextPoint=i<points.length-1?points[i+1]:point).x-lastPoint.x),perpX=nextPoint.y-lastPoint.y,perpLength=Math.sqrt(perpX*perpX+perpY*perpY),num=this._texture.height/2;perpX/=perpLength,perpY/=perpLength,perpX*=num,perpY*=num,vertices[index]=point.x+perpX,vertices[1+index]=point.y+perpY,vertices[2+index]=point.x-perpX,vertices[3+index]=point.y-perpY,lastPoint=point}},Rope.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},Rope}(((obj=_Mesh2)&&obj.__esModule?obj:{default:obj}).default);exports.default=Rope},{"./Mesh":162}],163:[function(require,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var NineSlicePlane=_interopRequireDefault(require("./Plane")),_CanvasTinter2=_interopRequireDefault(require("../core/sprites/canvas/CanvasTinter"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DEFAULT_BORDER_SIZE=10,NineSlicePlane=function(_Plane){function NineSlicePlane(texture,leftWidth,topHeight,rightWidth,bottomHeight){!function(instance){if(!(instance instanceof NineSlicePlane))throw new TypeError("Cannot call a class as a function")}(this);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_Plane.call(this,texture,4,4));return _this._origWidth=texture.orig.width,_this._origHeight=texture.orig.height,_this._width=_this._origWidth,_this._height=_this._origHeight,_this._leftWidth=void 0!==leftWidth?leftWidth:DEFAULT_BORDER_SIZE,_this._rightWidth=void 0!==rightWidth?rightWidth:DEFAULT_BORDER_SIZE,_this._topHeight=void 0!==topHeight?topHeight:DEFAULT_BORDER_SIZE,_this._bottomHeight=void 0!==bottomHeight?bottomHeight:DEFAULT_BORDER_SIZE,_this._cachedTint=16777215,_this._tintedTexture=null,_this._canvasUvs=null,_this.refresh(!0),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(NineSlicePlane,_Plane),NineSlicePlane.prototype.updateHorizontalVertices=function(){var vertices=this.vertices,scale=this._topHeight+this._bottomHeight,scale=this._height>scale?1:this._height/scale;vertices[9]=vertices[11]=vertices[13]=vertices[15]=this._topHeight*scale,vertices[17]=vertices[19]=vertices[21]=vertices[23]=this._height-this._bottomHeight*scale,vertices[25]=vertices[27]=vertices[29]=vertices[31]=this._height},NineSlicePlane.prototype.updateVerticalVertices=function(){var vertices=this.vertices,scale=this._leftWidth+this._rightWidth,scale=this._width>scale?1:this._width/scale;vertices[2]=vertices[10]=vertices[18]=vertices[26]=this._leftWidth*scale,vertices[4]=vertices[12]=vertices[20]=vertices[28]=this._width-this._rightWidth*scale,vertices[6]=vertices[14]=vertices[22]=vertices[30]=this._width},NineSlicePlane.prototype._renderCanvas=function(renderer){var context=renderer.context,transform=this.worldTransform,res=renderer.resolution,v1=16777215!==this.tint,texture=this._texture;v1&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=_CanvasTinter2.default.getTintedTexture(this,this.tint));var textureSource=v1?this._tintedTexture:texture.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var vertices=this.vertices,uvs=this._canvasUvs,u0=v1?0:texture.frame.x,v0=v1?0:texture.frame.y,u1=u0+texture.frame.width,v1=v0+texture.frame.height;uvs[0]=u0,uvs[1]=u0+this._leftWidth,uvs[2]=u1-this._rightWidth,uvs[3]=u1,uvs[4]=v0,uvs[5]=v0+this._topHeight,uvs[6]=v1-this._bottomHeight,uvs[7]=v1;for(var i=0;i<8;i++)uvs[i]*=texture.baseTexture.resolution;context.globalAlpha=this.worldAlpha,renderer.setBlendMode(this.blendMode),renderer.roundPixels?context.setTransform(transform.a*res,transform.b*res,transform.c*res,transform.d*res,transform.tx*res|0,transform.ty*res|0):context.setTransform(transform.a*res,transform.b*res,transform.c*res,transform.d*res,transform.tx*res,transform.ty*res);for(var row=0;row<3;row++)for(var col=0;col<3;col++){var ind=2*col+8*row,sw=Math.max(1,uvs[col+1]-uvs[col]),sh=Math.max(1,uvs[row+5]-uvs[row+4]),dw=Math.max(1,vertices[10+ind]-vertices[ind]),dh=Math.max(1,vertices[11+ind]-vertices[1+ind]);context.drawImage(textureSource,uvs[col],uvs[row+4],sw,sh,vertices[ind],vertices[1+ind],dw,dh)}},NineSlicePlane.prototype._refresh=function(){_Plane.prototype._refresh.call(this);var uvs=this.uvs,_uvh=this._texture;this._origWidth=_uvh.orig.width,this._origHeight=_uvh.orig.height;var _uvw=1/this._origWidth,_uvh=1/this._origHeight;uvs[0]=uvs[8]=uvs[16]=uvs[24]=0,uvs[1]=uvs[3]=uvs[5]=uvs[7]=0,uvs[6]=uvs[14]=uvs[22]=uvs[30]=1,uvs[25]=uvs[27]=uvs[29]=uvs[31]=1,uvs[2]=uvs[10]=uvs[18]=uvs[26]=_uvw*this._leftWidth,uvs[4]=uvs[12]=uvs[20]=uvs[28]=1-_uvw*this._rightWidth,uvs[9]=uvs[11]=uvs[13]=uvs[15]=_uvh*this._topHeight,uvs[17]=uvs[19]=uvs[21]=uvs[23]=1-_uvh*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},_createClass(NineSlicePlane,[{key:"width",get:function(){return this._width},set:function(value){this._width=value,this._refresh()}},{key:"height",get:function(){return this._height},set:function(value){this._height=value,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(value){this._leftWidth=value,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(value){this._rightWidth=value,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(value){this._topHeight=value,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(value){this._bottomHeight=value,this._refresh()}}]),NineSlicePlane}(NineSlicePlane.default);exports.default=NineSlicePlane},{"../core/sprites/canvas/CanvasTinter":99,"./Plane":164}],164:[function(Plane,module,exports){"use strict";exports.__esModule=!0;var obj,_Mesh2=Plane("./Mesh"),_Mesh3=(obj=_Mesh2)&&obj.__esModule?obj:{default:obj};Plane=function(_Mesh){function Plane(_this,verticesX,verticesY){!function(instance){if(!(instance instanceof Plane))throw new TypeError("Cannot call a class as a function")}(this);_this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_Mesh.call(this,_this));return _this._ready=!0,_this.verticesX=verticesX||10,_this.verticesY=verticesY||10,_this.drawMode=_Mesh3.default.DRAW_MODES.TRIANGLES,_this.refresh(),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Plane,_Mesh),Plane.prototype._refresh=function(){for(var texture=this._texture,total=this.verticesX*this.verticesY,verts=[],uvs=[],indices=[],segmentsX=this.verticesX-1,segmentsY=this.verticesY-1,sizeX=texture.width/segmentsX,sizeY=texture.height/segmentsY,i=0;i<total;i++){var x=i%this.verticesX,y=i/this.verticesX|0;verts.push(x*sizeX,y*sizeY),uvs.push(x/segmentsX,y/segmentsY)}for(var totalSub=segmentsX*segmentsY,_i=0;_i<totalSub;_i++){var value4=_i%segmentsX,ypos=_i/segmentsX|0,value=ypos*this.verticesX+value4,value2=ypos*this.verticesX+value4+1,value3=(1+ypos)*this.verticesX+value4,value4=(1+ypos)*this.verticesX+value4+1;indices.push(value,value2,value3),indices.push(value2,value4,value3)}this.vertices=new Float32Array(verts),this.uvs=new Float32Array(uvs),this.colors=new Float32Array([]),this.indices=new Uint16Array(indices),this.dirty++,this.indexDirty++,this.multiplyUvs()},Plane.prototype._onTextureUpdate=function(){_Mesh3.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},Plane}(_Mesh3.default);exports.default=Plane},{"./Mesh":162}],162:[function(Mesh,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(Mesh("../core")),_Texture=Mesh("../core/textures/Texture"),_Texture2=(obj=_Texture)&&obj.__esModule?obj:{default:obj};var tempPoint=new core.Point,tempPolygon=new core.Polygon,Mesh=function(_core$Container){function Mesh(texture,vertices,uvs,indices,drawMode){!function(instance){if(!(instance instanceof Mesh))throw new TypeError("Cannot call a class as a function")}(this);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$Container.call(this));return _this._texture=texture||_Texture2.default.EMPTY,_this.uvs=uvs||new Float32Array([0,0,1,0,1,1,0,1]),_this.vertices=vertices||new Float32Array([0,0,100,0,100,100,0,100]),_this.indices=indices||new Uint16Array([0,1,3,2]),_this.dirty=0,_this.indexDirty=0,_this.vertexDirty=0,_this.autoUpdate=!0,_this.blendMode=core.BLEND_MODES.NORMAL,_this.canvasPadding=core.settings.MESH_CANVAS_PADDING,_this.drawMode=drawMode||Mesh.DRAW_MODES.TRIANGLE_MESH,_this.shader=null,_this.tintRgb=new Float32Array([1,1,1]),_this._glDatas={},_this._uvTransform=new core.TextureMatrix(_this._texture),_this.uploadUvTransform=!1,_this.pluginName="mesh",_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Mesh,_core$Container),Mesh.prototype._renderWebGL=function(renderer){this.refresh(),renderer.setObjectRenderer(renderer.plugins[this.pluginName]),renderer.plugins[this.pluginName].render(this)},Mesh.prototype._renderCanvas=function(renderer){this.refresh(),renderer.plugins[this.pluginName].render(this)},Mesh.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},Mesh.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},Mesh.prototype.refresh=function(forceUpdate){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(forceUpdate)&&this._refresh()},Mesh.prototype._refresh=function(){},Mesh.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},Mesh.prototype.containsPoint=function(point){if(!this.getBounds().contains(point.x,point.y))return!1;this.worldTransform.applyInverse(point,tempPoint);for(var vertices=this.vertices,points=tempPolygon.points,indices=this.indices,len=this.indices.length,step=this.drawMode===Mesh.DRAW_MODES.TRIANGLES?3:1,i=0;i+2<len;i+=step){var ind0=2*indices[i],ind1=2*indices[i+1],ind2=2*indices[i+2];if(points[0]=vertices[ind0],points[1]=vertices[1+ind0],points[2]=vertices[ind1],points[3]=vertices[1+ind1],points[4]=vertices[ind2],points[5]=vertices[1+ind2],tempPolygon.contains(tempPoint.x,tempPoint.y))return!0}return!1},Mesh.prototype.destroy=function(options){for(var id in this._glDatas){var data=this._glDatas[id];data.destroy?data.destroy():(data.vertexBuffer&&(data.vertexBuffer.destroy(),data.vertexBuffer=null),data.indexBuffer&&(data.indexBuffer.destroy(),data.indexBuffer=null),data.uvBuffer&&(data.uvBuffer.destroy(),data.uvBuffer=null),data.vao&&(data.vao.destroy(),data.vao=null))}this._glDatas=null,_core$Container.prototype.destroy.call(this,options)},_createClass(Mesh,[{key:"texture",get:function(){return this._texture},set:function(value){this._texture!==value&&(this._texture=value)&&(value.baseTexture.hasLoaded?this._onTextureUpdate():value.once("update",this._onTextureUpdate,this))}},{key:"tint",get:function(){return core.utils.rgb2hex(this.tintRgb)},set:function(value){this.tintRgb=core.utils.hex2rgb(value,this.tintRgb)}}]),Mesh}(core.Container);(exports.default=Mesh).DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":60,"../core/textures/Texture":110}],158:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.shared=exports.Resource=exports.textureParser=exports.getResourcePath=exports.spritesheetParser=exports.parseBitmapFontData=exports.bitmapFontParser=exports.Loader=void 0;var _bitmapFontParser=require("./bitmapFontParser");Object.defineProperty(exports,"bitmapFontParser",{enumerable:!0,get:function(){return _interopRequireDefault(_bitmapFontParser).default}}),Object.defineProperty(exports,"parseBitmapFontData",{enumerable:!0,get:function(){return _bitmapFontParser.parse}});var _spritesheetParser=require("./spritesheetParser");Object.defineProperty(exports,"spritesheetParser",{enumerable:!0,get:function(){return _interopRequireDefault(_spritesheetParser).default}}),Object.defineProperty(exports,"getResourcePath",{enumerable:!0,get:function(){return _spritesheetParser.getResourcePath}});var _textureParser=require("./textureParser");Object.defineProperty(exports,"textureParser",{enumerable:!0,get:function(){return _interopRequireDefault(_textureParser).default}});var _resourceLoader=require("resource-loader");Object.defineProperty(exports,"Resource",{enumerable:!0,get:function(){return _resourceLoader.Resource}});var AppPrototype=_interopRequireDefault(require("../core/Application")),_loader2=_interopRequireDefault(require("./loader"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Loader=_loader2.default;var shared=new _loader2.default;shared.destroy=function(){},exports.shared=shared;AppPrototype=AppPrototype.default.prototype;AppPrototype._loader=null,Object.defineProperty(AppPrototype,"loader",{get:function(){var sharedLoader;return this._loader||(sharedLoader=this._options.sharedLoader,this._loader=sharedLoader?shared:new _loader2.default),this._loader}}),AppPrototype._parentDestroy=AppPrototype.destroy,AppPrototype.destroy=function(removeView,stageOptions){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(removeView,stageOptions)}},{"../core/Application":38,"./bitmapFontParser":157,"./loader":159,"./spritesheetParser":160,"./textureParser":161,"resource-loader":195}],159:[function(_bitmapFontParser2,module,exports){"use strict";exports.__esModule=!0;var Resource=_interopRequireDefault(_bitmapFontParser2("resource-loader")),_blob=_bitmapFontParser2("resource-loader/lib/middlewares/parsing/blob"),_eventemitter2=_interopRequireDefault(_bitmapFontParser2("eventemitter3")),_textureParser2=_interopRequireDefault(_bitmapFontParser2("./textureParser")),_spritesheetParser2=_interopRequireDefault(_bitmapFontParser2("./spritesheetParser")),_bitmapFontParser2=_interopRequireDefault(_bitmapFontParser2("./bitmapFontParser"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var k,Loader=function(_ResourceLoader){function Loader(baseUrl,concurrency){!function(instance){if(!(instance instanceof Loader))throw new TypeError("Cannot call a class as a function")}(this);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_ResourceLoader.call(this,baseUrl,concurrency));_eventemitter2.default.call(_this);for(var i=0;i<Loader._pixiMiddleware.length;++i)_this.use(Loader._pixiMiddleware[i]());return _this.onStart.add(function(l){return _this.emit("start",l)}),_this.onProgress.add(function(l,r){return _this.emit("progress",l,r)}),_this.onError.add(function(e,l,r){return _this.emit("error",e,l,r)}),_this.onLoad.add(function(l,r){return _this.emit("load",l,r)}),_this.onComplete.add(function(l,r){return _this.emit("complete",l,r)}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Loader,_ResourceLoader),Loader.addPixiMiddleware=function(fn){Loader._pixiMiddleware.push(fn)},Loader.prototype.destroy=function(){this.removeAllListeners(),this.reset()},Loader}(Resource.default);for(k in exports.default=Loader,_eventemitter2.default.prototype)Loader.prototype[k]=_eventemitter2.default.prototype[k];Loader._pixiMiddleware=[_blob.blobMiddlewareFactory,_textureParser2.default,_spritesheetParser2.default,_bitmapFontParser2.default];Resource=Resource.default.Resource;Resource.setExtensionXhrType("fnt",Resource.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":157,"./spritesheetParser":160,"./textureParser":161,eventemitter3:10,"resource-loader":195,"resource-loader/lib/middlewares/parsing/blob":196}],196:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.blobMiddlewareFactory=function(){return function(resource,next){if(resource.data){if(resource.xhr&&resource.xhrType===_Resource.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof resource.data){if(0===resource.data.type.indexOf("image")){var src=Url.createObjectURL(resource.data);return resource.blob=resource.data,resource.data=new Image,resource.data.src=src,resource.type=_Resource.Resource.TYPE.IMAGE,void(resource.data.onload=function(){Url.revokeObjectURL(src),resource.data.onload=null,next()})}}else{var type=resource.xhr.getResponseHeader("content-type");if(type&&0===type.indexOf("image"))return resource.data=new Image,resource.data.src="data:"+type+";base64,"+(0,_b.encodeBinary)(resource.xhr.responseText),resource.type=_Resource.Resource.TYPE.IMAGE,void(resource.data.onload=function(){resource.data.onload=null,next()})}next()}else next()}};var _Resource=require("../../Resource"),_b=require("../../b64"),Url=window.URL||window.webkitURL},{"../../Resource":192,"../../b64":194}],161:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=function(){return function(resource,next){resource.data&&resource.type===_resourceLoader.Resource.TYPE.IMAGE&&(resource.texture=_Texture2.default.fromLoader(resource.data,resource.url,resource.name)),next()}};var obj,_resourceLoader=require("resource-loader"),_Texture=require("../core/textures/Texture"),_Texture2=(obj=_Texture)&&obj.__esModule?obj:{default:obj}},{"../core/textures/Texture":110,"resource-loader":195}],160:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=function(){return function(resource,next){var loadOptions,resourcePath,imageResourceName=resource.name+"_image";resource.data&&resource.type===_resourceLoader.Resource.TYPE.JSON&&resource.data.frames&&!this.resources[imageResourceName]?(loadOptions={crossOrigin:resource.crossOrigin,metadata:resource.metadata.imageMetadata,parentResource:resource},resourcePath=getResourcePath(resource,this.baseUrl),this.add(imageResourceName,resourcePath,loadOptions,function(res){var spritesheet;res.error?next(res.error):(spritesheet=new _core.Spritesheet(res.texture.baseTexture,resource.data,resource.url)).parse(function(){resource.spritesheet=spritesheet,resource.textures=spritesheet.textures,next()})})):next()}},exports.getResourcePath=getResourcePath;var obj,_resourceLoader=require("resource-loader"),_url=require("url"),_url2=(obj=_url)&&obj.__esModule?obj:{default:obj},_core=require("../core");function getResourcePath(resource,baseUrl){return resource.isDataUrl?resource.data.meta.image:_url2.default.resolve(resource.url.replace(baseUrl,""),resource.data.meta.image)}},{"../core":60,"resource-loader":195,url:197}],157:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.parse=parse,exports.default=function(){return function(resource,next){if(resource.data&&resource.type===_resourceLoader.Resource.TYPE.XML)if(0!==resource.data.getElementsByTagName("page").length&&0!==resource.data.getElementsByTagName("info").length&&null!==resource.data.getElementsByTagName("info")[0].getAttribute("face")){var xmlUrl=resource.isDataUrl?"":path.dirname(resource.url);resource.isDataUrl&&("."===xmlUrl&&(xmlUrl=""),this.baseUrl&&xmlUrl&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(xmlUrl+="/")),(xmlUrl=xmlUrl.replace(this.baseUrl,""))&&"/"!==xmlUrl.charAt(xmlUrl.length-1)&&(xmlUrl+="/");for(var pages=resource.data.getElementsByTagName("page"),textures={},completed=function(page){textures[page.metadata.pageFile]=page.texture,Object.keys(textures).length===pages.length&&(parse(resource,textures),next())},i=0;i<pages.length;++i){var name,options,pageFile=pages[i].getAttribute("file"),url=xmlUrl+pageFile,exists=!1;for(name in this.resources){var bitmapResource=this.resources[name];if(bitmapResource.url===url){bitmapResource.metadata.pageFile=pageFile,bitmapResource.texture?completed(bitmapResource):bitmapResource.onAfterMiddleware.add(completed),exists=!0;break}}exists||(options={crossOrigin:resource.crossOrigin,loadType:_resourceLoader.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:pageFile},resource.metadata.imageMetadata),parentResource:resource},this.add(url,options,completed))}}else next();else next()}};var path=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(require("path")),_resourceLoader=require("resource-loader"),_extras=require("../extras");function parse(resource,textures){resource.bitmapFont=_extras.BitmapText.registerFont(resource.data,textures)}},{"../extras":136,path:17,"resource-loader":195}],195:[function(b64,module,exports){"use strict";var Loader=b64("./Loader").Loader,Resource=b64("./Resource").Resource,async=b64("./async"),b64=b64("./b64");Loader.Resource=Resource,Loader.async=async,Loader.encodeBinary=b64,Loader.base64=b64,module.exports=Loader,module.exports.Loader=Loader,module.exports.default=Loader},{"./Loader":191,"./Resource":192,"./async":193,"./b64":194}],194:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.encodeBinary=encodeBinary;var _keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encodeBinary(input){for(var output="",inx=0;inx<input.length;){for(var bytebuffer=[0,0,0],encodedCharIndexes=[0,0,0,0],jnx=0;jnx<bytebuffer.length;++jnx)inx<input.length?bytebuffer[jnx]=255&input.charCodeAt(inx++):bytebuffer[jnx]=0;switch(encodedCharIndexes[0]=bytebuffer[0]>>2,encodedCharIndexes[1]=(3&bytebuffer[0])<<4|bytebuffer[1]>>4,encodedCharIndexes[2]=(15&bytebuffer[1])<<2|bytebuffer[2]>>6,encodedCharIndexes[3]=63&bytebuffer[2],inx-(input.length-1)){case 2:encodedCharIndexes[3]=64,encodedCharIndexes[2]=64;break;case 1:encodedCharIndexes[3]=64}for(var _jnx=0;_jnx<encodedCharIndexes.length;++_jnx)output+=_keyStr.charAt(encodedCharIndexes[_jnx])}return output}void 0!==module&&(module.exports.default=encodeBinary)},{}],191:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.Loader=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _miniSignals2=_interopRequireDefault(require("mini-signals")),_parseUri2=_interopRequireDefault(require("parse-uri")),async=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(require("./async")),_Resource=require("./Resource");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var rgxExtractUrlHash=/(#[\w-]+)?$/,Loader=exports.Loader=function(){function Loader(){var _this=this,baseUrl=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",concurrency=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;!function(instance){if(!(instance instanceof Loader))throw new TypeError("Cannot call a class as a function")}(this),this.baseUrl=baseUrl,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(r,d){return _this._loadResource(r,d)},this._queue=async.queue(this._boundLoadResource,concurrency),this._queue.pause(),this.resources={},this.onProgress=new _miniSignals2.default,this.onError=new _miniSignals2.default,this.onLoad=new _miniSignals2.default,this.onStart=new _miniSignals2.default,this.onComplete=new _miniSignals2.default;for(var i=0;i<Loader._defaultBeforeMiddleware.length;++i)this.pre(Loader._defaultBeforeMiddleware[i]);for(var _i=0;_i<Loader._defaultAfterMiddleware.length;++_i)this.use(Loader._defaultAfterMiddleware[_i])}return Loader.prototype.add=function(name,url,options,cb){if(Array.isArray(name)){for(var i=0;i<name.length;++i)this.add(name[i]);return this}if("object"===(void 0===name?"undefined":_typeof(name))&&(cb=url||name.callback||name.onComplete,url=(options=name).url,name=name.name||name.key||name.url),"string"!=typeof url&&(cb=options,options=url,url=name),"string"!=typeof url)throw new Error("No url passed to add resource to loader.");if("function"==typeof options&&(cb=options,options=null),this.loading&&(!options||!options.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[name])throw new Error('Resource named "'+name+'" already exists.');if(url=this._prepareUrl(url),this.resources[name]=new _Resource.Resource(name,url,options),"function"==typeof cb&&this.resources[name].onAfterMiddleware.once(cb),this.loading){for(var parent=options.parentResource,incompleteChildren=[],_i2=0;_i2<parent.children.length;++_i2)parent.children[_i2].isComplete||incompleteChildren.push(parent.children[_i2]);var eachChunk=parent.progressChunk*(incompleteChildren.length+1)/(incompleteChildren.length+2);parent.children.push(this.resources[name]),parent.progressChunk=eachChunk;for(var _i3=0;_i3<incompleteChildren.length;++_i3)incompleteChildren[_i3].progressChunk=eachChunk;this.resources[name].progressChunk=eachChunk}return this._queue.push(this.resources[name]),this},Loader.prototype.pre=function(fn){return this._beforeMiddleware.push(fn),this},Loader.prototype.use=function(fn){return this._afterMiddleware.push(fn),this},Loader.prototype.reset=function(){for(var k in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var res=this.resources[k];res._onLoadBinding&&res._onLoadBinding.detach(),res.isLoading&&res.abort()}return this.resources={},this},Loader.prototype.load=function(cb){if("function"==typeof cb&&this.onComplete.once(cb),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var chunk=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=chunk;this._onStart(),this._queue.resume()}return this},Loader.prototype._prepareUrl=function(hash){var parsedUrl=(0,_parseUri2.default)(hash,{strictMode:!0}),result=void 0;return result=parsedUrl.protocol||!parsedUrl.path||0===hash.indexOf("//")?hash:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==hash.charAt(0)?this.baseUrl+"/"+hash:this.baseUrl+hash,this.defaultQueryString&&(hash=rgxExtractUrlHash.exec(result)[0],-1!==(result=result.substr(0,result.length-hash.length)).indexOf("?")?result+="&"+this.defaultQueryString:result+="?"+this.defaultQueryString,result+=hash),result},Loader.prototype._loadResource=function(resource,dequeue){var _this2=this;resource._dequeue=dequeue,async.eachSeries(this._beforeMiddleware,function(fn,next){fn.call(_this2,resource,function(){next(resource.isComplete?{}:null)})},function(){resource.isComplete?_this2._onLoad(resource):(resource._onLoadBinding=resource.onComplete.once(_this2._onLoad,_this2),resource.load())},!0)},Loader.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},Loader.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},Loader.prototype._onLoad=function(resource){var _this3=this;resource._onLoadBinding=null,this._resourcesParsing.push(resource),resource._dequeue(),async.eachSeries(this._afterMiddleware,function(fn,next){fn.call(_this3,resource,next)},function(){resource.onAfterMiddleware.dispatch(resource),_this3.progress=Math.min(100,_this3.progress+resource.progressChunk),_this3.onProgress.dispatch(_this3,resource),resource.error?_this3.onError.dispatch(resource.error,_this3,resource):_this3.onLoad.dispatch(_this3,resource),_this3._resourcesParsing.splice(_this3._resourcesParsing.indexOf(resource),1),_this3._queue.idle()&&0===_this3._resourcesParsing.length&&_this3._onComplete()},!0)},_createClass(Loader,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(concurrency){this._queue.concurrency=concurrency}}]),Loader}();Loader._defaultBeforeMiddleware=[],Loader._defaultAfterMiddleware=[],Loader.pre=function(fn){return Loader._defaultBeforeMiddleware.push(fn),Loader},Loader.use=function(fn){return Loader._defaultAfterMiddleware.push(fn),Loader}},{"./Resource":192,"./async":193,"mini-signals":14,"parse-uri":16}],193:[function(require,module,exports){"use strict";function _noop(){}exports.__esModule=!0,exports.eachSeries=function(array,iterator,callback,deferNext){var i=0,len=array.length;!function next(err){err||i===len?callback&&callback(err):deferNext?setTimeout(function(){iterator(array[i++],next)},1):iterator(array[i++],next)}()},exports.queue=function(worker,concurrency){if(null==concurrency)concurrency=1;else if(0===concurrency)throw new Error("Concurrency must not be zero");var workers=0,q={_tasks:[],concurrency:concurrency,saturated:_noop,unsaturated:_noop,buffer:concurrency/4,empty:_noop,drain:_noop,error:_noop,started:!1,paused:!1,push:function(data,callback){_insert(data,!1,callback)},kill:function(){workers=0,q.drain=_noop,q.started=!1,q._tasks=[]},unshift:function(data,callback){_insert(data,!0,callback)},process:function(){for(;!q.paused&&workers<q.concurrency&&q._tasks.length;){var task=q._tasks.shift();0===q._tasks.length&&q.empty(),(workers+=1)===q.concurrency&&q.saturated(),worker(task.data,function(fn){return function(){if(null===fn)throw new Error("Callback was already called.");var callFn=fn;fn=null,callFn.apply(this,arguments)}}(function(task){return function(){--workers,task.callback.apply(task,arguments),null!=arguments[0]&&q.error(arguments[0],task.data),workers<=q.concurrency-q.buffer&&q.unsaturated(),q.idle()&&q.drain(),q.process()}}(task)))}},length:function(){return q._tasks.length},running:function(){return workers},idle:function(){return q._tasks.length+workers===0},pause:function(){!0!==q.paused&&(q.paused=!0)},resume:function(){if(!1!==q.paused){q.paused=!1;for(var w=1;w<=q.concurrency;w++)q.process()}}};function _insert(data,insertAtFront,item){if(null!=item&&"function"!=typeof item)throw new Error("task callback must be a function");q.started=!0,null==data&&q.idle()?setTimeout(function(){return q.drain()},1):(item={data:data,callback:"function"==typeof item?item:_noop},insertAtFront?q._tasks.unshift(item):q._tasks.push(item),setTimeout(function(){return q.process()},1))}return q}},{}],192:[function(require,module,Resource){"use strict";Resource.__esModule=!0,Resource.Resource=void 0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _parseUri2=_interopRequireDefault(require("parse-uri")),_miniSignals2=_interopRequireDefault(require("mini-signals"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var useXdr=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),tempAnchor=null;function _noop(){}Resource=Resource.Resource=function(){function Resource(name,url,options){if(!function(instance){if(!(instance instanceof Resource))throw new TypeError("Cannot call a class as a function")}(this),"string"!=typeof name||"string"!=typeof url)throw new Error("Both name and url are required for constructing a resource.");options=options||{},this._flags=0,this._setFlag(Resource.STATUS_FLAGS.DATA_URL,0===url.indexOf("data:")),this.name=name,this.url=url,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===options.crossOrigin?"anonymous":options.crossOrigin,this.timeout=options.timeout||0,this.loadType=options.loadType||this._determineLoadType(),this.xhrType=options.xhrType,this.metadata=options.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=Resource.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_noop,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new _miniSignals2.default,this.onProgress=new _miniSignals2.default,this.onComplete=new _miniSignals2.default,this.onAfterMiddleware=new _miniSignals2.default}return Resource.setExtensionLoadType=function(extname,loadType){setExtMap(Resource._loadTypeMap,extname,loadType)},Resource.setExtensionXhrType=function(extname,xhrType){setExtMap(Resource._xhrTypeMap,extname,xhrType)},Resource.prototype.complete=function(){this._clearEvents(),this._finish()},Resource.prototype.abort=function(message){if(!this.error){if(this.error=new Error(message),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=Resource.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},Resource.prototype.load=function(cb){var _this=this;if(!this.isLoading)if(this.isComplete)cb&&setTimeout(function(){return cb(_this)},1);else switch(cb&&this.onComplete.once(cb),this._setFlag(Resource.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case Resource.LOAD_TYPE.IMAGE:this.type=Resource.TYPE.IMAGE,this._loadElement("image");break;case Resource.LOAD_TYPE.AUDIO:this.type=Resource.TYPE.AUDIO,this._loadSourceElement("audio");break;case Resource.LOAD_TYPE.VIDEO:this.type=Resource.TYPE.VIDEO,this._loadSourceElement("video");break;case Resource.LOAD_TYPE.XHR:default:useXdr&&this.crossOrigin?this._loadXdr():this._loadXhr()}},Resource.prototype._hasFlag=function(flag){return 0!=(this._flags&flag)},Resource.prototype._setFlag=function(flag,value){this._flags=value?this._flags|flag:this._flags&~flag},Resource.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},Resource.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(Resource.STATUS_FLAGS.COMPLETE,!0),this._setFlag(Resource.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},Resource.prototype._loadElement=function(type){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===type&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(type),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},Resource.prototype._loadSourceElement=function(type){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===type&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(type),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var mimeTypes=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(type,this.url[i],Array.isArray(mimeTypes)?mimeTypes[i]:mimeTypes));else{var _mimeTypes=this.metadata.mimeType;this.data.appendChild(this._createSource(type,this.url,Array.isArray(_mimeTypes)?_mimeTypes[0]:_mimeTypes))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+type)},Resource.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var xhr=this.xhr=new XMLHttpRequest;xhr.open("GET",this.url,!0),xhr.timeout=this.timeout,this.xhrType===Resource.XHR_RESPONSE_TYPE.JSON||this.xhrType===Resource.XHR_RESPONSE_TYPE.DOCUMENT?xhr.responseType=Resource.XHR_RESPONSE_TYPE.TEXT:xhr.responseType=this.xhrType,xhr.addEventListener("error",this._boundXhrOnError,!1),xhr.addEventListener("timeout",this._boundXhrOnTimeout,!1),xhr.addEventListener("abort",this._boundXhrOnAbort,!1),xhr.addEventListener("progress",this._boundOnProgress,!1),xhr.addEventListener("load",this._boundXhrOnLoad,!1),xhr.send()},Resource.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var xdr=this.xhr=new XDomainRequest;xdr.timeout=this.timeout||5e3,xdr.onerror=this._boundXhrOnError,xdr.ontimeout=this._boundXhrOnTimeout,xdr.onprogress=this._boundOnProgress,xdr.onload=this._boundXhrOnLoad,xdr.open("GET",this.url,!0),setTimeout(function(){return xdr.send()},1)},Resource.prototype._createSource=function(source,url,mime){mime=mime||source+"/"+this._getExtension(url);source=document.createElement("source");return source.src=url,source.type=mime,source},Resource.prototype._onError=function(event){this.abort("Failed to load element using: "+event.target.nodeName)},Resource.prototype._onProgress=function(event){event&&event.lengthComputable&&this.onProgress.dispatch(this,event.loaded/event.total)},Resource.prototype._onTimeout=function(){this.abort("Load timed out.")},Resource.prototype._xhrOnError=function(){var xhr=this.xhr;this.abort(reqType(xhr)+" Request failed. Status: "+xhr.status+', text: "'+xhr.statusText+'"')},Resource.prototype._xhrOnTimeout=function(){var xhr=this.xhr;this.abort(reqType(xhr)+" Request timed out.")},Resource.prototype._xhrOnAbort=function(){var xhr=this.xhr;this.abort(reqType(xhr)+" Request was aborted by the user.")},Resource.prototype._xhrOnLoad=function(){var div,xhr=this.xhr,text="",status=void 0===xhr.status?200:xhr.status;if(""!==xhr.responseType&&"text"!==xhr.responseType&&void 0!==xhr.responseType||(text=xhr.responseText),0===status&&(0<text.length||xhr.responseType===Resource.XHR_RESPONSE_TYPE.BUFFER)?status=200:1223===status&&(status=204),2==(status/100|0)){if(this.xhrType===Resource.XHR_RESPONSE_TYPE.TEXT)this.data=text,this.type=Resource.TYPE.TEXT;else if(this.xhrType===Resource.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(text),this.type=Resource.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===Resource.XHR_RESPONSE_TYPE.DOCUMENT)try{window.DOMParser?(div=new DOMParser,this.data=div.parseFromString(text,"text/xml")):((div=document.createElement("div")).innerHTML=text,this.data=div),this.type=Resource.TYPE.XML}catch(e){return void this.abort("Error trying to parse loaded xml: "+e)}else this.data=xhr.response||text;this.complete()}else this.abort("["+xhr.status+"] "+xhr.statusText+": "+xhr.responseURL)},Resource.prototype._determineCrossOrigin=function(url,loc){if(0===url.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";loc=loc||window.location,(tempAnchor=tempAnchor||document.createElement("a")).href=url;var samePort=!(url=(0,_parseUri2.default)(tempAnchor.href,{strictMode:!0})).port&&""===loc.port||url.port===loc.port,protocol=url.protocol?url.protocol+":":"";return url.host===loc.hostname&&samePort&&protocol===loc.protocol?"":"anonymous"},Resource.prototype._determineXhrType=function(){return Resource._xhrTypeMap[this.extension]||Resource.XHR_RESPONSE_TYPE.TEXT},Resource.prototype._determineLoadType=function(){return Resource._loadTypeMap[this.extension]||Resource.LOAD_TYPE.XHR},Resource.prototype._getExtension=function(){var queryStart,index,url=this.url;return(this.isDataUrl?(index=url.indexOf("/"),url.substring(index+1,url.indexOf(";",index))):(queryStart=url.indexOf("?"),index=url.indexOf("#"),index=Math.min(-1<queryStart?queryStart:url.length,-1<index?index:url.length),(url=url.substring(0,index)).substring(url.lastIndexOf(".")+1))).toLowerCase()},Resource.prototype._getMimeFromXhrType=function(type){switch(type){case Resource.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case Resource.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case Resource.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case Resource.XHR_RESPONSE_TYPE.JSON:return"application/json";case Resource.XHR_RESPONSE_TYPE.DEFAULT:case Resource.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},_createClass(Resource,[{key:"isDataUrl",get:function(){return this._hasFlag(Resource.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(Resource.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(Resource.STATUS_FLAGS.LOADING)}}]),Resource}();function setExtMap(map,extname,val){extname&&0===extname.indexOf(".")&&(extname=extname.substring(1)),extname&&(map[extname]=val)}function reqType(xhr){return xhr.toString().replace("object ","")}Resource.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Resource.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Resource.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Resource.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Resource._loadTypeMap={gif:Resource.LOAD_TYPE.IMAGE,png:Resource.LOAD_TYPE.IMAGE,bmp:Resource.LOAD_TYPE.IMAGE,jpg:Resource.LOAD_TYPE.IMAGE,jpeg:Resource.LOAD_TYPE.IMAGE,tif:Resource.LOAD_TYPE.IMAGE,tiff:Resource.LOAD_TYPE.IMAGE,webp:Resource.LOAD_TYPE.IMAGE,tga:Resource.LOAD_TYPE.IMAGE,svg:Resource.LOAD_TYPE.IMAGE,"svg+xml":Resource.LOAD_TYPE.IMAGE,mp3:Resource.LOAD_TYPE.AUDIO,ogg:Resource.LOAD_TYPE.AUDIO,wav:Resource.LOAD_TYPE.AUDIO,mp4:Resource.LOAD_TYPE.VIDEO,webm:Resource.LOAD_TYPE.VIDEO},Resource._xhrTypeMap={xhtml:Resource.XHR_RESPONSE_TYPE.DOCUMENT,html:Resource.XHR_RESPONSE_TYPE.DOCUMENT,htm:Resource.XHR_RESPONSE_TYPE.DOCUMENT,xml:Resource.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Resource.XHR_RESPONSE_TYPE.DOCUMENT,svg:Resource.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Resource.XHR_RESPONSE_TYPE.DOCUMENT,gif:Resource.XHR_RESPONSE_TYPE.BLOB,png:Resource.XHR_RESPONSE_TYPE.BLOB,bmp:Resource.XHR_RESPONSE_TYPE.BLOB,jpg:Resource.XHR_RESPONSE_TYPE.BLOB,jpeg:Resource.XHR_RESPONSE_TYPE.BLOB,tif:Resource.XHR_RESPONSE_TYPE.BLOB,tiff:Resource.XHR_RESPONSE_TYPE.BLOB,webp:Resource.XHR_RESPONSE_TYPE.BLOB,tga:Resource.XHR_RESPONSE_TYPE.BLOB,json:Resource.XHR_RESPONSE_TYPE.JSON,text:Resource.XHR_RESPONSE_TYPE.TEXT,txt:Resource.XHR_RESPONSE_TYPE.TEXT,ttf:Resource.XHR_RESPONSE_TYPE.BUFFER,otf:Resource.XHR_RESPONSE_TYPE.BUFFER},Resource.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",void 0!==module&&(module.exports.default=Resource)},{"mini-signals":14,"parse-uri":16}],16:[function(require,module,exports){"use strict";module.exports=function(str,opts){if(str){opts=opts||{};for(var o={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},m=o.parser[opts.strictMode?"strict":"loose"].exec(str),uri={},i=14;i--;)uri[o.key[i]]=m[i]||"";return uri[o.q.name]={},uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){$1&&(uri[o.q.name][$1]=$2)}),uri}}},{}],14:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var MiniSignalBinding=function(){function MiniSignalBinding(fn,once,thisArg){void 0===once&&(once=!1),_classCallCheck(this,MiniSignalBinding),this._fn=fn,this._once=once,this._thisArg=thisArg,this._next=this._prev=this._owner=null}return _createClass(MiniSignalBinding,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),MiniSignalBinding}();function _addMiniSignalBinding(self,node){return self._head?(self._tail._next=node)._prev=self._tail:self._head=node,(self._tail=node)._owner=self,node}var MiniSignal=function(){function MiniSignal(){_classCallCheck(this,MiniSignal),this._head=this._tail=void 0}return _createClass(MiniSignal,[{key:"handlers",value:function(){var exists=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],node=this._head;if(exists)return!!node;for(var ee=[];node;)ee.push(node),node=node._next;return ee}},{key:"has",value:function(node){if(!(node instanceof MiniSignalBinding))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return node._owner===this}},{key:"dispatch",value:function(){var node=this._head;if(!node)return!1;for(;node;)node._once&&this.detach(node),node._fn.apply(node._thisArg,arguments),node=node._next;return!0}},{key:"add",value:function(fn){var thisArg=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof fn)throw new Error("MiniSignal#add(): First arg must be a Function.");return _addMiniSignalBinding(this,new MiniSignalBinding(fn,!1,thisArg))}},{key:"once",value:function(fn){var thisArg=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof fn)throw new Error("MiniSignal#once(): First arg must be a Function.");return _addMiniSignalBinding(this,new MiniSignalBinding(fn,!0,thisArg))}},{key:"detach",value:function(node){if(!(node instanceof MiniSignalBinding))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return node._owner!==this||(node._prev&&(node._prev._next=node._next),node._next&&(node._next._prev=node._prev),node===this._head?(this._head=node._next,null===node._next&&(this._tail=null)):node===this._tail&&(this._tail=node._prev,this._tail._next=null),node._owner=null),this}},{key:"detachAll",value:function(){var node=this._head;if(!node)return this;for(this._head=this._tail=null;node;)node._owner=null,node=node._next;return this}}]),MiniSignal}();MiniSignal.MiniSignalBinding=MiniSignalBinding,exports.default=MiniSignal,module.exports=exports.default},{}],155:[function(require,module,exports){"use strict";exports.__esModule=!0;var _InteractionData=require("./InteractionData");Object.defineProperty(exports,"InteractionData",{enumerable:!0,get:function(){return _interopRequireDefault(_InteractionData).default}});var _InteractionManager=require("./InteractionManager");Object.defineProperty(exports,"InteractionManager",{enumerable:!0,get:function(){return _interopRequireDefault(_InteractionManager).default}});var _interactiveTarget=require("./interactiveTarget");Object.defineProperty(exports,"interactiveTarget",{enumerable:!0,get:function(){return _interopRequireDefault(_interactiveTarget).default}});var _InteractionTrackingData=require("./InteractionTrackingData");Object.defineProperty(exports,"InteractionTrackingData",{enumerable:!0,get:function(){return _interopRequireDefault(_InteractionTrackingData).default}});var _InteractionEvent=require("./InteractionEvent");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"InteractionEvent",{enumerable:!0,get:function(){return _interopRequireDefault(_InteractionEvent).default}})},{"./InteractionData":151,"./InteractionEvent":152,"./InteractionManager":153,"./InteractionTrackingData":154,"./interactiveTarget":156}],153:[function(_interactiveTarget2,module,exports){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(_interactiveTarget2("../core")),_InteractionData2=_interopRequireDefault(_interactiveTarget2("./InteractionData")),_InteractionEvent2=_interopRequireDefault(_interactiveTarget2("./InteractionEvent")),_InteractionTrackingData2=_interopRequireDefault(_interactiveTarget2("./InteractionTrackingData")),InteractionManager=_interopRequireDefault(_interactiveTarget2("eventemitter3")),_interactiveTarget2=_interopRequireDefault(_interactiveTarget2("./interactiveTarget"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}core.utils.mixins.delayMixin(core.DisplayObject.prototype,_interactiveTarget2.default);var MOUSE_POINTER_ID=1,hitTestEvent={target:null,data:{global:null}},InteractionManager=function(_EventEmitter){function InteractionManager(renderer,options){!function(instance){if(!(instance instanceof InteractionManager))throw new TypeError("Cannot call a class as a function")}(this);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_EventEmitter.call(this));return options=options||{},_this.renderer=renderer,_this.autoPreventDefault=void 0===options.autoPreventDefault||options.autoPreventDefault,_this.interactionFrequency=options.interactionFrequency||10,_this.mouse=new _InteractionData2.default,_this.mouse.identifier=MOUSE_POINTER_ID,_this.mouse.global.set(-999999),_this.activeInteractionData={},_this.activeInteractionData[MOUSE_POINTER_ID]=_this.mouse,_this.interactionDataPool=[],_this.eventData=new _InteractionEvent2.default,_this.interactionDOMElement=null,_this.moveWhenInside=!1,_this.eventsAdded=!1,_this.mouseOverRenderer=!1,_this.supportsTouchEvents="ontouchstart"in window,_this.supportsPointerEvents=!!window.PointerEvent,_this.onPointerUp=_this.onPointerUp.bind(_this),_this.processPointerUp=_this.processPointerUp.bind(_this),_this.onPointerCancel=_this.onPointerCancel.bind(_this),_this.processPointerCancel=_this.processPointerCancel.bind(_this),_this.onPointerDown=_this.onPointerDown.bind(_this),_this.processPointerDown=_this.processPointerDown.bind(_this),_this.onPointerMove=_this.onPointerMove.bind(_this),_this.processPointerMove=_this.processPointerMove.bind(_this),_this.onPointerOut=_this.onPointerOut.bind(_this),_this.processPointerOverOut=_this.processPointerOverOut.bind(_this),_this.onPointerOver=_this.onPointerOver.bind(_this),_this.cursorStyles={default:"inherit",pointer:"pointer"},_this.currentCursorMode=null,_this.cursor=null,_this._tempPoint=new core.Point,_this.resolution=1,_this.setTargetElement(_this.renderer.view,_this.renderer.resolution),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(InteractionManager,_EventEmitter),InteractionManager.prototype.hitTest=function(globalPoint,root){return hitTestEvent.target=null,hitTestEvent.data.global=globalPoint,root=root||this.renderer._lastObjectRendered,this.processInteractive(hitTestEvent,root,null,!0),hitTestEvent.target},InteractionManager.prototype.setTargetElement=function(element){var resolution=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=element,this.resolution=resolution,this.addEvents()},InteractionManager.prototype.addEvents=function(){this.interactionDOMElement&&(core.ticker.shared.add(this.update,this,core.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},InteractionManager.prototype.removeEvents=function(){this.interactionDOMElement&&(core.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},InteractionManager.prototype.update=function(deltaTime){if(this._deltaTime+=deltaTime,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var k in this.cursor=null,this.activeInteractionData){var interactionEvent;!this.activeInteractionData.hasOwnProperty(k)||(interactionEvent=this.activeInteractionData[k]).originalEvent&&"touch"!==interactionEvent.pointerType&&(interactionEvent=this.configureInteractionEventForDOMEvent(this.eventData,interactionEvent.originalEvent,interactionEvent),this.processInteractive(interactionEvent,this.renderer._lastObjectRendered,this.processPointerOverOut,!0))}this.setCursorMode(this.cursor)}},InteractionManager.prototype.setCursorMode=function(mode){if(mode=mode||"default",this.currentCursorMode!==mode){this.currentCursorMode=mode;var style=this.cursorStyles[mode];if(style)switch(void 0===style?"undefined":_typeof(style)){case"string":this.interactionDOMElement.style.cursor=style;break;case"function":style(mode);break;case"object":Object.assign(this.interactionDOMElement.style,style)}else"string"!=typeof mode||Object.prototype.hasOwnProperty.call(this.cursorStyles,mode)||(this.interactionDOMElement.style.cursor=mode)}},InteractionManager.prototype.dispatchEvent=function(displayObject,eventString,eventData){eventData.stopped||(eventData.currentTarget=displayObject,eventData.type=eventString,displayObject.emit(eventString,eventData),displayObject[eventString]&&displayObject[eventString](eventData))},InteractionManager.prototype.mapPositionToPoint=function(point,x,y){var rect=void 0,rect=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0},resolutionMultiplier=navigator.isCocoonJS?this.resolution:1/this.resolution;point.x=(x-rect.left)*(this.interactionDOMElement.width/rect.width)*resolutionMultiplier,point.y=(y-rect.top)*(this.interactionDOMElement.height/rect.height)*resolutionMultiplier},InteractionManager.prototype.processInteractive=function(interactionEvent,displayObject,func,hitTest,interactive){if(!displayObject||!displayObject.visible)return!1;var point=interactionEvent.data.global,hit=!1,interactiveParent=interactive=displayObject.interactive||interactive,hitTestChildren=!0;if(displayObject.hitArea?(hitTest&&(displayObject.worldTransform.applyInverse(point,this._tempPoint),displayObject.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?hit=!0:hitTestChildren=hitTest=!1),interactiveParent=!1):displayObject._mask&&hitTest&&(displayObject._mask.containsPoint(point)||(hitTestChildren=hitTest=!1)),hitTestChildren&&displayObject.interactiveChildren&&displayObject.children)for(var children=displayObject.children,i=children.length-1;0<=i;i--){var child=children[i],childHit=this.processInteractive(interactionEvent,child,func,hitTest,interactiveParent);childHit&&child.parent&&(interactiveParent=!1,childHit&&(interactionEvent.target&&(hitTest=!1),hit=!0))}return interactive&&(hitTest&&!interactionEvent.target&&!displayObject.hitArea&&displayObject.containsPoint&&displayObject.containsPoint(point)&&(hit=!0),displayObject.interactive&&(hit&&!interactionEvent.target&&(interactionEvent.target=displayObject),func&&func(interactionEvent,displayObject,!!hit))),hit},InteractionManager.prototype.onPointerDown=function(originalEvent){if(!this.supportsTouchEvents||"touch"!==originalEvent.pointerType){var events=this.normalizeToPointerData(originalEvent);this.autoPreventDefault&&events[0].isNormalized&&originalEvent.preventDefault();for(var eventLen=events.length,i=0;i<eventLen;i++){var isRightButton=events[i],interactionEvent=this.getInteractionDataForPointerId(isRightButton),interactionEvent=this.configureInteractionEventForDOMEvent(this.eventData,isRightButton,interactionEvent);interactionEvent.data.originalEvent=originalEvent,this.processInteractive(interactionEvent,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",interactionEvent),"touch"===isRightButton.pointerType?this.emit("touchstart",interactionEvent):"mouse"!==isRightButton.pointerType&&"pen"!==isRightButton.pointerType||(isRightButton=2===isRightButton.button,this.emit(isRightButton?"rightdown":"mousedown",this.eventData))}}},InteractionManager.prototype.processPointerDown=function(interactionEvent,displayObject,hit){var isRightButton=interactionEvent.data,id=interactionEvent.data.identifier;hit&&(displayObject.trackedPointers[id]||(displayObject.trackedPointers[id]=new _InteractionTrackingData2.default(id)),this.dispatchEvent(displayObject,"pointerdown",interactionEvent),"touch"===isRightButton.pointerType?this.dispatchEvent(displayObject,"touchstart",interactionEvent):"mouse"!==isRightButton.pointerType&&"pen"!==isRightButton.pointerType||((isRightButton=2===isRightButton.button)?displayObject.trackedPointers[id].rightDown=!0:displayObject.trackedPointers[id].leftDown=!0,this.dispatchEvent(displayObject,isRightButton?"rightdown":"mousedown",interactionEvent)))},InteractionManager.prototype.onPointerComplete=function(originalEvent,cancelled,func){for(var events=this.normalizeToPointerData(originalEvent),eventLen=events.length,eventAppend=originalEvent.target!==this.interactionDOMElement?"outside":"",i=0;i<eventLen;i++){var isRightButton,event=events[i],interactionData=this.getInteractionDataForPointerId(event),interactionEvent=this.configureInteractionEventForDOMEvent(this.eventData,event,interactionData);interactionEvent.data.originalEvent=originalEvent,this.processInteractive(interactionEvent,this.renderer._lastObjectRendered,func,cancelled||!eventAppend),this.emit(cancelled?"pointercancel":"pointerup"+eventAppend,interactionEvent),"mouse"===event.pointerType||"pen"===event.pointerType?(isRightButton=2===event.button,this.emit(isRightButton?"rightup"+eventAppend:"mouseup"+eventAppend,interactionEvent)):"touch"===event.pointerType&&(this.emit(cancelled?"touchcancel":"touchend"+eventAppend,interactionEvent),this.releaseInteractionDataForPointerId(event.pointerId,interactionData))}},InteractionManager.prototype.onPointerCancel=function(event){this.supportsTouchEvents&&"touch"===event.pointerType||this.onPointerComplete(event,!0,this.processPointerCancel)},InteractionManager.prototype.processPointerCancel=function(interactionEvent,displayObject){var data=interactionEvent.data,id=interactionEvent.data.identifier;void 0!==displayObject.trackedPointers[id]&&(delete displayObject.trackedPointers[id],this.dispatchEvent(displayObject,"pointercancel",interactionEvent),"touch"===data.pointerType&&this.dispatchEvent(displayObject,"touchcancel",interactionEvent))},InteractionManager.prototype.onPointerUp=function(event){this.supportsTouchEvents&&"touch"===event.pointerType||this.onPointerComplete(event,!1,this.processPointerUp)},InteractionManager.prototype.processPointerUp=function(interactionEvent,displayObject,hit){var isRightButton,isDown=interactionEvent.data,id=interactionEvent.data.identifier,trackingData=displayObject.trackedPointers[id],isTouch="touch"===isDown.pointerType,isMouse="mouse"===isDown.pointerType||"pen"===isDown.pointerType,isMouseTap=!1;isMouse&&(isRightButton=2===isDown.button,isDown=_InteractionTrackingData2.default.FLAGS,isDown=isRightButton?isDown.RIGHT_DOWN:isDown.LEFT_DOWN,isDown=void 0!==trackingData&&trackingData.flags&isDown,hit?(this.dispatchEvent(displayObject,isRightButton?"rightup":"mouseup",interactionEvent),isDown&&(this.dispatchEvent(displayObject,isRightButton?"rightclick":"click",interactionEvent),isMouseTap=!0)):isDown&&this.dispatchEvent(displayObject,isRightButton?"rightupoutside":"mouseupoutside",interactionEvent),trackingData&&(isRightButton?trackingData.rightDown=!1:trackingData.leftDown=!1)),hit?(this.dispatchEvent(displayObject,"pointerup",interactionEvent),isTouch&&this.dispatchEvent(displayObject,"touchend",interactionEvent),trackingData&&(isMouse&&!isMouseTap||this.dispatchEvent(displayObject,"pointertap",interactionEvent),isTouch&&(this.dispatchEvent(displayObject,"tap",interactionEvent),trackingData.over=!1))):trackingData&&(this.dispatchEvent(displayObject,"pointerupoutside",interactionEvent),isTouch&&this.dispatchEvent(displayObject,"touchendoutside",interactionEvent)),trackingData&&trackingData.none&&delete displayObject.trackedPointers[id]},InteractionManager.prototype.onPointerMove=function(originalEvent){if(!this.supportsTouchEvents||"touch"!==originalEvent.pointerType){var events=this.normalizeToPointerData(originalEvent);"mouse"!==events[0].pointerType&&"pen"!==events[0].pointerType||(this.didMove=!0,this.cursor=null);for(var eventLen=events.length,i=0;i<eventLen;i++){var event=events[i],interactive=this.getInteractionDataForPointerId(event),interactionEvent=this.configureInteractionEventForDOMEvent(this.eventData,event,interactive);interactionEvent.data.originalEvent=originalEvent;interactive="touch"!==event.pointerType||this.moveWhenInside;this.processInteractive(interactionEvent,this.renderer._lastObjectRendered,this.processPointerMove,interactive),this.emit("pointermove",interactionEvent),"touch"===event.pointerType&&this.emit("touchmove",interactionEvent),"mouse"!==event.pointerType&&"pen"!==event.pointerType||this.emit("mousemove",interactionEvent)}"mouse"===events[0].pointerType&&this.setCursorMode(this.cursor)}},InteractionManager.prototype.processPointerMove=function(interactionEvent,displayObject,hit){var isMouse=interactionEvent.data,isTouch="touch"===isMouse.pointerType,isMouse="mouse"===isMouse.pointerType||"pen"===isMouse.pointerType;isMouse&&this.processPointerOverOut(interactionEvent,displayObject,hit),this.moveWhenInside&&!hit||(this.dispatchEvent(displayObject,"pointermove",interactionEvent),isTouch&&this.dispatchEvent(displayObject,"touchmove",interactionEvent),isMouse&&this.dispatchEvent(displayObject,"mousemove",interactionEvent))},InteractionManager.prototype.onPointerOut=function(interactionEvent){var event,interactionData;this.supportsTouchEvents&&"touch"===interactionEvent.pointerType||("mouse"===(event=this.normalizeToPointerData(interactionEvent)[0]).pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),interactionData=this.getInteractionDataForPointerId(event),(interactionEvent=this.configureInteractionEventForDOMEvent(this.eventData,event,interactionData)).data.originalEvent=event,this.processInteractive(interactionEvent,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",interactionEvent),"mouse"===event.pointerType||"pen"===event.pointerType?this.emit("mouseout",interactionEvent):this.releaseInteractionDataForPointerId(interactionData.identifier))},InteractionManager.prototype.processPointerOverOut=function(interactionEvent,displayObject,hit){var trackingData=interactionEvent.data,id=interactionEvent.data.identifier,isMouse="mouse"===trackingData.pointerType||"pen"===trackingData.pointerType,trackingData=displayObject.trackedPointers[id];hit&&!trackingData&&(trackingData=displayObject.trackedPointers[id]=new _InteractionTrackingData2.default(id)),void 0!==trackingData&&(hit&&this.mouseOverRenderer?(trackingData.over||(trackingData.over=!0,this.dispatchEvent(displayObject,"pointerover",interactionEvent),isMouse&&this.dispatchEvent(displayObject,"mouseover",interactionEvent)),isMouse&&null===this.cursor&&(this.cursor=displayObject.cursor)):trackingData.over&&(trackingData.over=!1,this.dispatchEvent(displayObject,"pointerout",this.eventData),isMouse&&this.dispatchEvent(displayObject,"mouseout",interactionEvent),trackingData.none&&delete displayObject.trackedPointers[id]))},InteractionManager.prototype.onPointerOver=function(interactionEvent){var event=this.normalizeToPointerData(interactionEvent)[0],interactionEvent=this.getInteractionDataForPointerId(event),interactionEvent=this.configureInteractionEventForDOMEvent(this.eventData,event,interactionEvent);"mouse"===(interactionEvent.data.originalEvent=event).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",interactionEvent),"mouse"!==event.pointerType&&"pen"!==event.pointerType||this.emit("mouseover",interactionEvent)},InteractionManager.prototype.getInteractionDataForPointerId=function(event){var pointerId=event.pointerId,interactionData=void 0;return pointerId===MOUSE_POINTER_ID||"mouse"===event.pointerType?interactionData=this.mouse:this.activeInteractionData[pointerId]?interactionData=this.activeInteractionData[pointerId]:((interactionData=this.interactionDataPool.pop()||new _InteractionData2.default).identifier=pointerId,this.activeInteractionData[pointerId]=interactionData),interactionData.copyEvent(event),interactionData},InteractionManager.prototype.releaseInteractionDataForPointerId=function(pointerId){var interactionData=this.activeInteractionData[pointerId];interactionData&&(delete this.activeInteractionData[pointerId],interactionData.reset(),this.interactionDataPool.push(interactionData))},InteractionManager.prototype.configureInteractionEventForDOMEvent=function(interactionEvent,pointerEvent,interactionData){return interactionEvent.data=interactionData,this.mapPositionToPoint(interactionData.global,pointerEvent.clientX,pointerEvent.clientY),navigator.isCocoonJS&&"touch"===pointerEvent.pointerType&&(interactionData.global.x=interactionData.global.x/this.resolution,interactionData.global.y=interactionData.global.y/this.resolution),"touch"===pointerEvent.pointerType&&(pointerEvent.globalX=interactionData.global.x,pointerEvent.globalY=interactionData.global.y),interactionData.originalEvent=pointerEvent,interactionEvent.reset(),interactionEvent},InteractionManager.prototype.normalizeToPointerData=function(event){var normalizedEvents=[];if(this.supportsTouchEvents&&event instanceof TouchEvent)for(var i=0,li=event.changedTouches.length;i<li;i++){var touch=event.changedTouches[i];void 0===touch.button&&(touch.button=event.touches.length?1:0),void 0===touch.buttons&&(touch.buttons=event.touches.length?1:0),void 0===touch.isPrimary&&(touch.isPrimary=1===event.touches.length&&"touchstart"===event.type),void 0===touch.width&&(touch.width=touch.radiusX||1),void 0===touch.height&&(touch.height=touch.radiusY||1),void 0===touch.tiltX&&(touch.tiltX=0),void 0===touch.tiltY&&(touch.tiltY=0),void 0===touch.pointerType&&(touch.pointerType="touch"),void 0===touch.pointerId&&(touch.pointerId=touch.identifier||0),void 0===touch.pressure&&(touch.pressure=touch.force||.5),void 0===touch.twist&&(touch.twist=0),void 0===touch.tangentialPressure&&(touch.tangentialPressure=0),void 0===touch.layerX&&(touch.layerX=touch.offsetX=touch.clientX),void 0===touch.layerY&&(touch.layerY=touch.offsetY=touch.clientY),touch.isNormalized=!0,normalizedEvents.push(touch)}else!(event instanceof MouseEvent)||this.supportsPointerEvents&&event instanceof window.PointerEvent||(void 0===event.isPrimary&&(event.isPrimary=!0),void 0===event.width&&(event.width=1),void 0===event.height&&(event.height=1),void 0===event.tiltX&&(event.tiltX=0),void 0===event.tiltY&&(event.tiltY=0),void 0===event.pointerType&&(event.pointerType="mouse"),void 0===event.pointerId&&(event.pointerId=MOUSE_POINTER_ID),void 0===event.pressure&&(event.pressure=.5),void 0===event.twist&&(event.twist=0),void 0===event.tangentialPressure&&(event.tangentialPressure=0),event.isNormalized=!0),normalizedEvents.push(event);return normalizedEvents},InteractionManager.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},InteractionManager}(InteractionManager.default);exports.default=InteractionManager,core.WebGLRenderer.registerPlugin("interaction",InteractionManager),core.CanvasRenderer.registerPlugin("interaction",InteractionManager)},{"../core":60,"./InteractionData":151,"./InteractionEvent":152,"./InteractionTrackingData":154,"./interactiveTarget":156,eventemitter3:10}],156:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(value){value?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],154:[function(require,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var InteractionTrackingData=function(){function InteractionTrackingData(pointerId){!function(instance){if(!(instance instanceof InteractionTrackingData))throw new TypeError("Cannot call a class as a function")}(this),this._pointerId=pointerId,this._flags=InteractionTrackingData.FLAGS.NONE}return InteractionTrackingData.prototype._doSet=function(flag,yn){this._flags=yn?this._flags|flag:this._flags&~flag},_createClass(InteractionTrackingData,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(flags){this._flags=flags}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(yn){this._doSet(this.constructor.FLAGS.OVER,yn)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(yn){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,yn)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(yn){this._doSet(this.constructor.FLAGS.LEFT_DOWN,yn)}}]),InteractionTrackingData}();(exports.default=InteractionTrackingData).FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],152:[function(require,module,exports){"use strict";exports.__esModule=!0;var InteractionEvent=function(){function InteractionEvent(){!function(instance){if(!(instance instanceof InteractionEvent))throw new TypeError("Cannot call a class as a function")}(this),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return InteractionEvent.prototype.stopPropagation=function(){this.stopped=!0},InteractionEvent.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},InteractionEvent}();exports.default=InteractionEvent},{}],151:[function(InteractionData,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(InteractionData("../core"));InteractionData=function(){function InteractionData(){!function(instance){if(!(instance instanceof InteractionData))throw new TypeError("Cannot call a class as a function")}(this),this.global=new core.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return InteractionData.prototype.getLocalPosition=function(displayObject,point,globalPos){return displayObject.worldTransform.applyInverse(globalPos||this.global,point)},InteractionData.prototype.copyEvent=function(event){event.isPrimary&&(this.isPrimary=!0),this.button=event.button,this.buttons=Number.isInteger(event.buttons)?event.buttons:event.which,this.width=event.width,this.height=event.height,this.tiltX=event.tiltX,this.tiltY=event.tiltY,this.pointerType=event.pointerType,this.pressure=event.pressure,this.rotationAngle=event.rotationAngle,this.twist=event.twist||0,this.tangentialPressure=event.tangentialPressure||0},InteractionData.prototype.reset=function(){this.isPrimary=!1},_createClass(InteractionData,[{key:"pointerId",get:function(){return this.identifier}}]),InteractionData}();exports.default=InteractionData},{"../core":60}],148:[function(require,module,exports){"use strict";exports.__esModule=!0;var _FXAAFilter=require("./fxaa/FXAAFilter");Object.defineProperty(exports,"FXAAFilter",{enumerable:!0,get:function(){return _interopRequireDefault(_FXAAFilter).default}});var _NoiseFilter=require("./noise/NoiseFilter");Object.defineProperty(exports,"NoiseFilter",{enumerable:!0,get:function(){return _interopRequireDefault(_NoiseFilter).default}});var _DisplacementFilter=require("./displacement/DisplacementFilter");Object.defineProperty(exports,"DisplacementFilter",{enumerable:!0,get:function(){return _interopRequireDefault(_DisplacementFilter).default}});var _BlurFilter=require("./blur/BlurFilter");Object.defineProperty(exports,"BlurFilter",{enumerable:!0,get:function(){return _interopRequireDefault(_BlurFilter).default}});var _BlurXFilter=require("./blur/BlurXFilter");Object.defineProperty(exports,"BlurXFilter",{enumerable:!0,get:function(){return _interopRequireDefault(_BlurXFilter).default}});var _BlurYFilter=require("./blur/BlurYFilter");Object.defineProperty(exports,"BlurYFilter",{enumerable:!0,get:function(){return _interopRequireDefault(_BlurYFilter).default}});var _ColorMatrixFilter=require("./colormatrix/ColorMatrixFilter");Object.defineProperty(exports,"ColorMatrixFilter",{enumerable:!0,get:function(){return _interopRequireDefault(_ColorMatrixFilter).default}});var _AlphaFilter=require("./alpha/AlphaFilter");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"AlphaFilter",{enumerable:!0,get:function(){return _interopRequireDefault(_AlphaFilter).default}})},{"./alpha/AlphaFilter":138,"./blur/BlurFilter":139,"./blur/BlurXFilter":140,"./blur/BlurYFilter":141,"./colormatrix/ColorMatrixFilter":145,"./displacement/DisplacementFilter":146,"./fxaa/FXAAFilter":147,"./noise/NoiseFilter":149}],149:[function(require,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var NoiseFilter=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(require("../../core"));require("path");NoiseFilter=function(_core$Filter){function NoiseFilter(){var noise=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5,seed=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random();!function(instance){if(!(instance instanceof NoiseFilter))throw new TypeError("Cannot call a class as a function")}(this);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$Filter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return _this.noise=noise,_this.seed=seed,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(NoiseFilter,_core$Filter),_createClass(NoiseFilter,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(value){this.uniforms.uNoise=value}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(value){this.uniforms.uSeed=value}}]),NoiseFilter}(NoiseFilter.Filter);exports.default=NoiseFilter},{"../../core":60,path:17}],147:[function(require,module,exports){"use strict";exports.__esModule=!0;var FXAAFilter=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(require("../../core"));require("path");FXAAFilter=function(_core$Filter){function FXAAFilter(){return function(instance){if(!(instance instanceof FXAAFilter))throw new TypeError("Cannot call a class as a function")}(this),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$Filter.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(FXAAFilter,_core$Filter),FXAAFilter}(FXAAFilter.Filter);exports.default=FXAAFilter},{"../../core":60,path:17}],146:[function(DisplacementFilter,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(DisplacementFilter("../../core"));DisplacementFilter("path");DisplacementFilter=function(_core$Filter){function DisplacementFilter(sprite,scale){!function(instance){if(!(instance instanceof DisplacementFilter))throw new TypeError("Cannot call a class as a function")}(this);var maskMatrix=new core.Matrix;sprite.renderable=!1;var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$Filter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return _this.maskSprite=sprite,_this.maskMatrix=maskMatrix,_this.uniforms.mapSampler=sprite._texture,_this.uniforms.filterMatrix=maskMatrix,_this.uniforms.scale={x:1,y:1},null==scale&&(scale=20),_this.scale=new core.Point(scale,scale),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(DisplacementFilter,_core$Filter),DisplacementFilter.prototype.apply=function(filterManager,input,output){this.uniforms.filterMatrix=filterManager.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,filterManager.applyFilter(this,input,output)},_createClass(DisplacementFilter,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(value){this.uniforms.mapSampler=value}}]),DisplacementFilter}(core.Filter);exports.default=DisplacementFilter},{"../../core":60,path:17}],145:[function(require,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ColorMatrixFilter=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(require("../../core"));require("path");ColorMatrixFilter=function(_core$Filter){function ColorMatrixFilter(){!function(instance){if(!(instance instanceof ColorMatrixFilter))throw new TypeError("Cannot call a class as a function")}(this);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$Filter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return _this.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],_this.alpha=1,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ColorMatrixFilter,_core$Filter),ColorMatrixFilter.prototype._loadMatrix=function(matrix){var newMatrix=matrix;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(newMatrix,this.uniforms.m,matrix),newMatrix=this._colorMatrix(newMatrix)),this.uniforms.m=newMatrix},ColorMatrixFilter.prototype._multiply=function(out,a,b){return out[0]=a[0]*b[0]+a[1]*b[5]+a[2]*b[10]+a[3]*b[15],out[1]=a[0]*b[1]+a[1]*b[6]+a[2]*b[11]+a[3]*b[16],out[2]=a[0]*b[2]+a[1]*b[7]+a[2]*b[12]+a[3]*b[17],out[3]=a[0]*b[3]+a[1]*b[8]+a[2]*b[13]+a[3]*b[18],out[4]=a[0]*b[4]+a[1]*b[9]+a[2]*b[14]+a[3]*b[19]+a[4],out[5]=a[5]*b[0]+a[6]*b[5]+a[7]*b[10]+a[8]*b[15],out[6]=a[5]*b[1]+a[6]*b[6]+a[7]*b[11]+a[8]*b[16],out[7]=a[5]*b[2]+a[6]*b[7]+a[7]*b[12]+a[8]*b[17],out[8]=a[5]*b[3]+a[6]*b[8]+a[7]*b[13]+a[8]*b[18],out[9]=a[5]*b[4]+a[6]*b[9]+a[7]*b[14]+a[8]*b[19]+a[9],out[10]=a[10]*b[0]+a[11]*b[5]+a[12]*b[10]+a[13]*b[15],out[11]=a[10]*b[1]+a[11]*b[6]+a[12]*b[11]+a[13]*b[16],out[12]=a[10]*b[2]+a[11]*b[7]+a[12]*b[12]+a[13]*b[17],out[13]=a[10]*b[3]+a[11]*b[8]+a[12]*b[13]+a[13]*b[18],out[14]=a[10]*b[4]+a[11]*b[9]+a[12]*b[14]+a[13]*b[19]+a[14],out[15]=a[15]*b[0]+a[16]*b[5]+a[17]*b[10]+a[18]*b[15],out[16]=a[15]*b[1]+a[16]*b[6]+a[17]*b[11]+a[18]*b[16],out[17]=a[15]*b[2]+a[16]*b[7]+a[17]*b[12]+a[18]*b[17],out[18]=a[15]*b[3]+a[16]*b[8]+a[17]*b[13]+a[18]*b[18],out[19]=a[15]*b[4]+a[16]*b[9]+a[17]*b[14]+a[18]*b[19]+a[19],out},ColorMatrixFilter.prototype._colorMatrix=function(m){m=new Float32Array(m);return m[4]/=255,m[9]/=255,m[14]/=255,m[19]/=255,m},ColorMatrixFilter.prototype.brightness=function(matrix,multiply){matrix=[matrix,0,0,0,0,0,matrix,0,0,0,0,0,matrix,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply)},ColorMatrixFilter.prototype.greyscale=function(matrix,multiply){matrix=[matrix,matrix,matrix,0,0,matrix,matrix,matrix,0,0,matrix,matrix,matrix,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply)},ColorMatrixFilter.prototype.blackAndWhite=function(multiply){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],multiply)},ColorMatrixFilter.prototype.hue=function(sqrW,multiply){sqrW=(sqrW||0)/180*Math.PI;var matrix=Math.cos(sqrW),sinR=Math.sin(sqrW),w=1/3,sqrW=(0,Math.sqrt)(w),matrix=[matrix+(1-matrix)*w,w*(1-matrix)-sqrW*sinR,w*(1-matrix)+sqrW*sinR,0,0,w*(1-matrix)+sqrW*sinR,matrix+w*(1-matrix),w*(1-matrix)-sqrW*sinR,0,0,w*(1-matrix)-sqrW*sinR,w*(1-matrix)+sqrW*sinR,matrix+w*(1-matrix),0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply)},ColorMatrixFilter.prototype.contrast=function(matrix,multiply){var v=(matrix||0)+1,matrix=-.5*(v-1),matrix=[v,0,0,0,matrix,0,v,0,0,matrix,0,0,v,0,matrix,0,0,0,1,0];this._loadMatrix(matrix,multiply)},ColorMatrixFilter.prototype.saturate=function(){var y=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,multiply=arguments[1],matrix=2*y/3+1,y=-.5*(matrix-1),matrix=[matrix,y,y,0,0,y,matrix,y,0,0,y,y,matrix,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply)},ColorMatrixFilter.prototype.desaturate=function(){this.saturate(-1)},ColorMatrixFilter.prototype.negative=function(multiply){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],multiply)},ColorMatrixFilter.prototype.sepia=function(multiply){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],multiply)},ColorMatrixFilter.prototype.technicolor=function(multiply){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],multiply)},ColorMatrixFilter.prototype.polaroid=function(multiply){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],multiply)},ColorMatrixFilter.prototype.toBGR=function(multiply){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],multiply)},ColorMatrixFilter.prototype.kodachrome=function(multiply){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],multiply)},ColorMatrixFilter.prototype.browni=function(multiply){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],multiply)},ColorMatrixFilter.prototype.vintage=function(multiply){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],multiply)},ColorMatrixFilter.prototype.colorTone=function(desaturation,toned,dG,matrix,multiply){var lR=((dG=dG||16770432)>>16&255)/255,lG=(dG>>8&255)/255,lB=(255&dG)/255,dR=((matrix=matrix||3375104)>>16&255)/255,dG=(matrix>>8&255)/255,matrix=(255&matrix)/255,matrix=[.3,.59,.11,0,0,lR,lG,lB,desaturation=desaturation||.2,0,dR,dG,matrix,toned=toned||.15,0,lR-dR,lG-dG,lB-matrix,0,0];this._loadMatrix(matrix,multiply)},ColorMatrixFilter.prototype.night=function(matrix,multiply){matrix=[-2*(matrix=matrix||.1),-matrix,0,0,0,-matrix,0,matrix,0,0,0,matrix,2*matrix,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply)},ColorMatrixFilter.prototype.predator=function(matrix,multiply){matrix=[11.224130630493164*matrix,-4.794486999511719*matrix,-2.8746118545532227*matrix,0*matrix,.40342438220977783*matrix,-3.6330697536468506*matrix,9.193157196044922*matrix,-2.951810836791992*matrix,0*matrix,-1.316135048866272*matrix,-3.2184197902679443*matrix,-4.2375030517578125*matrix,7.476448059082031*matrix,0*matrix,.8044459223747253*matrix,0,0,0,1,0];this._loadMatrix(matrix,multiply)},ColorMatrixFilter.prototype.lsd=function(multiply){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],multiply)},ColorMatrixFilter.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},_createClass(ColorMatrixFilter,[{key:"matrix",get:function(){return this.uniforms.m},set:function(value){this.uniforms.m=value}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(value){this.uniforms.uAlpha=value}}]),ColorMatrixFilter}(ColorMatrixFilter.Filter);(exports.default=ColorMatrixFilter).prototype.grayscale=ColorMatrixFilter.prototype.greyscale},{"../../core":60,path:17}],139:[function(BlurFilter,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(BlurFilter("../../core")),_BlurXFilter2=_interopRequireDefault(BlurFilter("./BlurXFilter")),_BlurYFilter2=_interopRequireDefault(BlurFilter("./BlurYFilter"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}BlurFilter=function(_core$Filter){function BlurFilter(strength,quality,resolution,kernelSize){!function(instance){if(!(instance instanceof BlurFilter))throw new TypeError("Cannot call a class as a function")}(this);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$Filter.call(this));return _this.blurXFilter=new _BlurXFilter2.default(strength,quality,resolution,kernelSize),_this.blurYFilter=new _BlurYFilter2.default(strength,quality,resolution,kernelSize),_this.padding=0,_this.resolution=resolution||core.settings.RESOLUTION,_this.quality=quality||4,_this.blur=strength||8,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(BlurFilter,_core$Filter),BlurFilter.prototype.apply=function(filterManager,input,output){var renderTarget=filterManager.getRenderTarget(!0);this.blurXFilter.apply(filterManager,input,renderTarget,!0),this.blurYFilter.apply(filterManager,renderTarget,output,!1),filterManager.returnRenderTarget(renderTarget)},_createClass(BlurFilter,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(value){this.blurXFilter.blur=this.blurYFilter.blur=value,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(value){this.blurXFilter.quality=this.blurYFilter.quality=value}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(value){this.blurXFilter.blur=value,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(value){this.blurYFilter.blur=value,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(value){this.blurYFilter._blendMode=value}}]),BlurFilter}(core.Filter);exports.default=BlurFilter},{"../../core":60,"./BlurXFilter":140,"./BlurYFilter":141}],141:[function(BlurYFilter,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(BlurYFilter("../../core")),_generateBlurVertSource2=_interopRequireDefault(BlurYFilter("./generateBlurVertSource")),_generateBlurFragSource2=_interopRequireDefault(BlurYFilter("./generateBlurFragSource")),_getMaxBlurKernelSize2=_interopRequireDefault(BlurYFilter("./getMaxBlurKernelSize"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}BlurYFilter=function(_core$Filter){function BlurYFilter(strength,quality,resolution,_this){!function(instance){if(!(instance instanceof BlurYFilter))throw new TypeError("Cannot call a class as a function")}(this),_this=_this||5;var vertSrc=(0,_generateBlurVertSource2.default)(_this,!1),_this=(0,_generateBlurFragSource2.default)(_this),_this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$Filter.call(this,vertSrc,_this));return _this.resolution=resolution||core.settings.RESOLUTION,_this._quality=0,_this.quality=quality||4,_this.strength=strength||8,_this.firstRun=!0,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(BlurYFilter,_core$Filter),BlurYFilter.prototype.apply=function(filterManager,input,output,clear){if(this.firstRun&&(renderTarget=filterManager.renderer.gl,renderTarget=(0,_getMaxBlurKernelSize2.default)(renderTarget),this.vertexSrc=(0,_generateBlurVertSource2.default)(renderTarget,!1),this.fragmentSrc=(0,_generateBlurFragSource2.default)(renderTarget),this.firstRun=!1),this.uniforms.strength=1/output.size.height*(output.size.height/input.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)filterManager.applyFilter(this,input,output,clear);else{for(var renderTarget=filterManager.getRenderTarget(!0),flip=input,flop=renderTarget,i=0;i<this.passes-1;i++){filterManager.applyFilter(this,flip,flop,!0);var temp=flop,flop=flip,flip=temp}filterManager.applyFilter(this,flip,output,clear),filterManager.returnRenderTarget(renderTarget)}},_createClass(BlurYFilter,[{key:"blur",get:function(){return this.strength},set:function(value){this.padding=2*Math.abs(value),this.strength=value}},{key:"quality",get:function(){return this._quality},set:function(value){this._quality=value,this.passes=value}}]),BlurYFilter}(core.Filter);exports.default=BlurYFilter},{"../../core":60,"./generateBlurFragSource":142,"./generateBlurVertSource":143,"./getMaxBlurKernelSize":144}],140:[function(BlurXFilter,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(BlurXFilter("../../core")),_generateBlurVertSource2=_interopRequireDefault(BlurXFilter("./generateBlurVertSource")),_generateBlurFragSource2=_interopRequireDefault(BlurXFilter("./generateBlurFragSource")),_getMaxBlurKernelSize2=_interopRequireDefault(BlurXFilter("./getMaxBlurKernelSize"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}BlurXFilter=function(_core$Filter){function BlurXFilter(strength,quality,resolution,_this){!function(instance){if(!(instance instanceof BlurXFilter))throw new TypeError("Cannot call a class as a function")}(this),_this=_this||5;var vertSrc=(0,_generateBlurVertSource2.default)(_this,!0),_this=(0,_generateBlurFragSource2.default)(_this),_this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$Filter.call(this,vertSrc,_this));return _this.resolution=resolution||core.settings.RESOLUTION,_this._quality=0,_this.quality=quality||4,_this.strength=strength||8,_this.firstRun=!0,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(BlurXFilter,_core$Filter),BlurXFilter.prototype.apply=function(filterManager,input,output,clear){if(this.firstRun&&(renderTarget=filterManager.renderer.gl,renderTarget=(0,_getMaxBlurKernelSize2.default)(renderTarget),this.vertexSrc=(0,_generateBlurVertSource2.default)(renderTarget,!0),this.fragmentSrc=(0,_generateBlurFragSource2.default)(renderTarget),this.firstRun=!1),this.uniforms.strength=1/output.size.width*(output.size.width/input.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)filterManager.applyFilter(this,input,output,clear);else{for(var renderTarget=filterManager.getRenderTarget(!0),flip=input,flop=renderTarget,i=0;i<this.passes-1;i++){filterManager.applyFilter(this,flip,flop,!0);var temp=flop,flop=flip,flip=temp}filterManager.applyFilter(this,flip,output,clear),filterManager.returnRenderTarget(renderTarget)}},_createClass(BlurXFilter,[{key:"blur",get:function(){return this.strength},set:function(value){this.padding=2*Math.abs(value),this.strength=value}},{key:"quality",get:function(){return this._quality},set:function(value){this._quality=value,this.passes=value}}]),BlurXFilter}(core.Filter);exports.default=BlurXFilter},{"../../core":60,"./generateBlurFragSource":142,"./generateBlurVertSource":143,"./getMaxBlurKernelSize":144}],144:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=function(gl){var maxVaryings=gl.getParameter(gl.MAX_VARYING_VECTORS),kernelSize=15;for(;maxVaryings<kernelSize;)kernelSize-=2;return kernelSize}},{}],143:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=function(kernelSize,x){var halfLength=Math.ceil(kernelSize/2),vertSource=vertTemplate,blurLoop="",template=void 0;template=x?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var i=0;i<kernelSize;i++){var blur=template.replace("%index%",i);blur=blur.replace("%sampleIndex%",i-(halfLength-1)+".0"),blurLoop+=blur,blurLoop+="\n"}return vertSource=(vertSource=vertSource.replace("%blur%",blurLoop)).replace("%size%",kernelSize)};var vertTemplate=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},{}],142:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=function(kernelSize){for(var kernel=GAUSSIAN_VALUES[kernelSize],halfLength=kernel.length,fragSource=fragTemplate,blurLoop="",value=void 0,i=0;i<kernelSize;i++){var blur="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",i);halfLength<=(value=i)&&(value=kernelSize-i-1),blur=blur.replace("%value%",kernel[value]),blurLoop+=blur,blurLoop+="\n"}return fragSource=(fragSource=fragSource.replace("%blur%",blurLoop)).replace("%size%",kernelSize)};var GAUSSIAN_VALUES={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fragTemplate=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},{}],138:[function(require,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var AlphaFilter=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(require("../../core"));require("path");AlphaFilter=function(_core$Filter){function AlphaFilter(){var alpha=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;!function(instance){if(!(instance instanceof AlphaFilter))throw new TypeError("Cannot call a class as a function")}(this);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$Filter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return _this.alpha=alpha,_this.glShaderKey="alpha",_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(AlphaFilter,_core$Filter),_createClass(AlphaFilter,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(value){this.uniforms.uAlpha=value}}]),AlphaFilter}(AlphaFilter.Filter);exports.default=AlphaFilter},{"../../core":60,path:17}],136:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.BitmapText=exports.TilingSpriteRenderer=exports.TilingSprite=exports.AnimatedSprite=void 0;var _AnimatedSprite=require("./AnimatedSprite");Object.defineProperty(exports,"AnimatedSprite",{enumerable:!0,get:function(){return _interopRequireDefault(_AnimatedSprite).default}});var _TilingSprite=require("./TilingSprite");Object.defineProperty(exports,"TilingSprite",{enumerable:!0,get:function(){return _interopRequireDefault(_TilingSprite).default}});var _TilingSpriteRenderer=require("./webgl/TilingSpriteRenderer");Object.defineProperty(exports,"TilingSpriteRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(_TilingSpriteRenderer).default}});var _BitmapText=require("./BitmapText");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"BitmapText",{enumerable:!0,get:function(){return _interopRequireDefault(_BitmapText).default}}),require("./cacheAsBitmap"),require("./getChildByName"),require("./getGlobalPosition")},{"./AnimatedSprite":130,"./BitmapText":131,"./TilingSprite":132,"./cacheAsBitmap":133,"./getChildByName":134,"./getGlobalPosition":135,"./webgl/TilingSpriteRenderer":137}],137:[function(TilingSpriteRenderer,module,exports){"use strict";exports.__esModule=!0;var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(TilingSpriteRenderer("../../core")),_const=TilingSpriteRenderer("../../core/const");TilingSpriteRenderer("path");var tempMat=new core.Matrix,TilingSpriteRenderer=function(_core$ObjectRenderer){function TilingSpriteRenderer(_this){!function(instance){if(!(instance instanceof TilingSpriteRenderer))throw new TypeError("Cannot call a class as a function")}(this);_this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$ObjectRenderer.call(this,_this));return _this.shader=null,_this.simpleShader=null,_this.quad=null,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(TilingSpriteRenderer,_core$ObjectRenderer),TilingSpriteRenderer.prototype.onContextChange=function(){var gl=this.renderer.gl;this.shader=new core.Shader(gl,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new core.Shader(gl,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new core.Quad(gl,this.renderer.state.attribState),this.quad.initVao(this.shader)},TilingSpriteRenderer.prototype.render=function(ts){var renderer=this.renderer,quad=this.quad;renderer.bindVao(quad.vao);var H=quad.vertices;H[0]=H[6]=ts._width*-ts.anchor.x,H[1]=H[3]=ts._height*-ts.anchor.y,H[2]=H[4]=ts._width*(1-ts.anchor.x),H[5]=H[7]=ts._height*(1-ts.anchor.y),ts.uvRespectAnchor&&((H=quad.uvs)[0]=H[6]=-ts.anchor.x,H[1]=H[3]=-ts.anchor.y,H[2]=H[4]=1-ts.anchor.x,H[5]=H[7]=1-ts.anchor.y),quad.upload();var tex=ts._texture,baseTex=tex.baseTexture,lt=ts.tileTransform.localTransform,uv=ts.uvTransform,isSimple=baseTex.isPowerOfTwo&&tex.frame.width===baseTex.width&&tex.frame.height===baseTex.height;isSimple&&(baseTex._glTextures[renderer.CONTEXT_UID]?isSimple=baseTex.wrapMode!==_const.WRAP_MODES.CLAMP:baseTex.wrapMode===_const.WRAP_MODES.CLAMP&&(baseTex.wrapMode=_const.WRAP_MODES.REPEAT));var shader=isSimple?this.simpleShader:this.shader;renderer.bindShader(shader);var w=tex.width,h=tex.height,W=ts._width,H=ts._height;tempMat.set(lt.a*w/W,lt.b*w/H,lt.c*h/W,lt.d*h/H,lt.tx/W,lt.ty/H),tempMat.invert(),isSimple?tempMat.prepend(uv.mapCoord):(shader.uniforms.uMapCoord=uv.mapCoord.toArray(!0),shader.uniforms.uClampFrame=uv.uClampFrame,shader.uniforms.uClampOffset=uv.uClampOffset),shader.uniforms.uTransform=tempMat.toArray(!0),shader.uniforms.uColor=core.utils.premultiplyTintToRgba(ts.tint,ts.worldAlpha,shader.uniforms.uColor,baseTex.premultipliedAlpha),shader.uniforms.translationMatrix=ts.transform.worldTransform.toArray(!0),shader.uniforms.uSampler=renderer.bindTexture(tex),renderer.setBlendMode(core.utils.correctBlendMode(ts.blendMode,baseTex.premultipliedAlpha)),quad.vao.draw(this.renderer.gl.TRIANGLES,6,0)},TilingSpriteRenderer}(core.ObjectRenderer);exports.default=TilingSpriteRenderer,core.WebGLRenderer.registerPlugin("tilingSprite",TilingSpriteRenderer)},{"../../core":60,"../../core/const":41,path:17}],135:[function(require,module,exports){"use strict";var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(require("../core"));core.DisplayObject.prototype.getGlobalPosition=function(){var point=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new core.Point,skipUpdate=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,point,skipUpdate):(point.x=this.position.x,point.y=this.position.y),point}},{"../core":60}],134:[function(core,module,exports){"use strict";core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(core("../core"));core.DisplayObject.prototype.name=null,core.Container.prototype.getChildByName=function(name){for(var i=0;i<this.children.length;i++)if(this.children[i].name===name)return this.children[i];return null}},{"../core":60}],133:[function(DisplayObject,module,exports){"use strict";var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(DisplayObject("../core")),_Texture2=_interopRequireDefault(DisplayObject("../core/textures/Texture")),_BaseTexture2=_interopRequireDefault(DisplayObject("../core/textures/BaseTexture")),_utils=DisplayObject("../core/utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DisplayObject=core.DisplayObject,_tempMatrix=new core.Matrix;DisplayObject.prototype._cacheAsBitmap=!1,DisplayObject.prototype._cacheData=!1;function CacheData(){!function(instance){if(!(instance instanceof CacheData))throw new TypeError("Cannot call a class as a function")}(this),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null}Object.defineProperties(DisplayObject.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(value){var data;this._cacheAsBitmap!==value&&(data=void 0,(this._cacheAsBitmap=value)?(this._cacheData||(this._cacheData=new CacheData),(data=this._cacheData).originalRenderWebGL=this.renderWebGL,data.originalRenderCanvas=this.renderCanvas,data.originalUpdateTransform=this.updateTransform,data.originalCalculateBounds=this.calculateBounds,data.originalGetLocalBounds=this.getLocalBounds,data.originalDestroy=this.destroy,data.originalContainsPoint=this.containsPoint,data.originalMask=this._mask,data.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((data=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=data.originalRenderWebGL,this.renderCanvas=data.originalRenderCanvas,this.calculateBounds=data.originalCalculateBounds,this.getLocalBounds=data.originalGetLocalBounds,this.destroy=data.originalDestroy,this.updateTransform=data.originalUpdateTransform,this.containsPoint=data.originalContainsPoint,this._mask=data.originalMask,this.filterArea=data.originalFilterArea))}}}),DisplayObject.prototype._renderCachedWebGL=function(renderer){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(renderer),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(renderer))},DisplayObject.prototype._initCachedDisplayObject=function(renderer){var cacheAlpha,bounds,cachedRenderTarget,stack,m,cachedSprite;this._cacheData&&this._cacheData.sprite||(cacheAlpha=this.alpha,this.alpha=1,renderer.currentRenderer.flush(),bounds=this.getLocalBounds().clone(),this._filters&&this._filters.length&&(m=this._filters[0].padding,bounds.pad(m)),bounds.ceil(core.settings.RESOLUTION),cachedRenderTarget=renderer._activeRenderTarget,stack=renderer.filterManager.filterStack,cachedSprite=core.RenderTexture.create(bounds.width,bounds.height),m="cacheAsBitmap_"+(0,_utils.uid)(),this._cacheData.textureCacheId=m,_BaseTexture2.default.addToCache(cachedSprite.baseTexture,m),_Texture2.default.addToCache(cachedSprite,m),(m=_tempMatrix).tx=-bounds.x,m.ty=-bounds.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,renderer.render(this,cachedSprite,!0,m,!0),renderer.bindRenderTarget(cachedRenderTarget),renderer.filterManager.filterStack=stack,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,(cachedSprite=new core.Sprite(cachedSprite)).transform.worldTransform=this.transform.worldTransform,cachedSprite.anchor.x=-(bounds.x/bounds.width),cachedSprite.anchor.y=-(bounds.y/bounds.height),cachedSprite.alpha=cacheAlpha,cachedSprite._bounds=this._bounds,this._cacheData.sprite=cachedSprite,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=renderer._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=cachedSprite.containsPoint.bind(cachedSprite))},DisplayObject.prototype._renderCachedCanvas=function(renderer){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(renderer),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(renderer))},DisplayObject.prototype._initCachedDisplayObjectCanvas=function(renderer){var bounds,cacheAlpha,cachedRenderTarget,m,cachedSprite;this._cacheData&&this._cacheData.sprite||(bounds=this.getLocalBounds(),cacheAlpha=this.alpha,this.alpha=1,cachedRenderTarget=renderer.context,bounds.ceil(core.settings.RESOLUTION),cachedSprite=core.RenderTexture.create(bounds.width,bounds.height),m="cacheAsBitmap_"+(0,_utils.uid)(),this._cacheData.textureCacheId=m,_BaseTexture2.default.addToCache(cachedSprite.baseTexture,m),_Texture2.default.addToCache(cachedSprite,m),m=_tempMatrix,this.transform.localTransform.copy(m),m.invert(),m.tx-=bounds.x,m.ty-=bounds.y,this.renderCanvas=this._cacheData.originalRenderCanvas,renderer.render(this,cachedSprite,!0,m,!1),renderer.context=cachedRenderTarget,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,(cachedSprite=new core.Sprite(cachedSprite)).transform.worldTransform=this.transform.worldTransform,cachedSprite.anchor.x=-(bounds.x/bounds.width),cachedSprite.anchor.y=-(bounds.y/bounds.height),cachedSprite.alpha=cacheAlpha,cachedSprite._bounds=this._bounds,this._cacheData.sprite=cachedSprite,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=renderer._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=cachedSprite.containsPoint.bind(cachedSprite))},DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,_BaseTexture2.default.removeFromCache(this._cacheData.textureCacheId),_Texture2.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},DisplayObject.prototype._cacheAsBitmapDestroy=function(options){this.cacheAsBitmap=!1,this.destroy(options)}},{"../core":60,"../core/textures/BaseTexture":107,"../core/textures/Texture":110,"../core/utils":120}],132:[function(TilingSprite,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(TilingSprite("../core")),_CanvasTinter=TilingSprite("../core/sprites/canvas/CanvasTinter"),_CanvasTinter2=(obj=_CanvasTinter)&&obj.__esModule?obj:{default:obj};var tempPoint=new core.Point,TilingSprite=function(_core$Sprite){function TilingSprite(texture){var width=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,height=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;!function(instance){if(!(instance instanceof TilingSprite))throw new TypeError("Cannot call a class as a function")}(this);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$Sprite.call(this,texture));return _this.tileTransform=new core.TransformStatic,_this._width=width,_this._height=height,_this._canvasPattern=null,_this.uvTransform=texture.transform||new core.TextureMatrix(texture),_this.pluginName="tilingSprite",_this.uvRespectAnchor=!1,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(TilingSprite,_core$Sprite),TilingSprite.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},TilingSprite.prototype._renderWebGL=function(renderer){var texture=this._texture;texture&&texture.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),renderer.setObjectRenderer(renderer.plugins[this.pluginName]),renderer.plugins[this.pluginName].render(this))},TilingSprite.prototype._renderCanvas=function(anchorY){var context,transform,isTextureRotated,baseTexture,baseTextureResolution,modX,modY,tempCanvas,sx,sy,sWidth,sHeight,dWidth,dHeight,dx,anchorX,dy=this._texture;dy.baseTexture.hasLoaded&&(context=anchorY.context,transform=this.worldTransform,anchorX=anchorY.resolution,isTextureRotated=2===dy.rotate,baseTextureResolution=(baseTexture=dy.baseTexture).resolution,modX=this.tilePosition.x/this.tileScale.x%dy.orig.width*baseTextureResolution,modY=this.tilePosition.y/this.tileScale.y%dy.orig.height*baseTextureResolution,this._textureID===this._texture._updateID&&this.cachedTint===this.tint||(this._textureID=this._texture._updateID,tempCanvas=new core.CanvasRenderTarget(dy.orig.width,dy.orig.height,baseTextureResolution),16777215!==this.tint?(this.tintedTexture=_CanvasTinter2.default.getTintedTexture(this,this.tint),tempCanvas.context.drawImage(this.tintedTexture,0,0)):(sx=dy._frame.x*baseTextureResolution,sy=dy._frame.y*baseTextureResolution,sWidth=dy._frame.width*baseTextureResolution,sHeight=dy._frame.height*baseTextureResolution,dWidth=(dy.trim||dy.orig).width*baseTextureResolution,dHeight=(dy.trim||dy.orig).height*baseTextureResolution,dx=(dy.trim?dy.trim.x:0)*baseTextureResolution,dy=(dy.trim?dy.trim.y:0)*baseTextureResolution,isTextureRotated?(tempCanvas.context.rotate(-Math.PI/2),tempCanvas.context.translate(-dHeight,0),tempCanvas.context.drawImage(baseTexture.source,sx,sy,sWidth,sHeight,-dy,dx,dHeight,dWidth)):tempCanvas.context.drawImage(baseTexture.source,sx,sy,sWidth,sHeight,dx,dy,dWidth,dHeight)),this.cachedTint=this.tint,this._canvasPattern=tempCanvas.context.createPattern(tempCanvas.canvas,"repeat")),context.globalAlpha=this.worldAlpha,context.setTransform(transform.a*anchorX,transform.b*anchorX,transform.c*anchorX,transform.d*anchorX,transform.tx*anchorX,transform.ty*anchorX),anchorY.setBlendMode(this.blendMode),context.fillStyle=this._canvasPattern,context.scale(this.tileScale.x/baseTextureResolution,this.tileScale.y/baseTextureResolution),anchorX=this.anchor.x*-this._width*baseTextureResolution,anchorY=this.anchor.y*-this._height*baseTextureResolution,this.uvRespectAnchor?(context.translate(modX,modY),context.fillRect(anchorX-modX,anchorY-modY,this._width/this.tileScale.x*baseTextureResolution,this._height/this.tileScale.y*baseTextureResolution)):(context.translate(modX+anchorX,modY+anchorY),context.fillRect(-modX,-modY,this._width/this.tileScale.x*baseTextureResolution,this._height/this.tileScale.y*baseTextureResolution)))},TilingSprite.prototype._calculateBounds=function(){var minX=this._width*-this._anchor._x,minY=this._height*-this._anchor._y,maxX=this._width*(1-this._anchor._x),maxY=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,minX,minY,maxX,maxY)},TilingSprite.prototype.getLocalBounds=function(rect){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),rect||(this._localBoundsRect||(this._localBoundsRect=new core.Rectangle),rect=this._localBoundsRect),this._bounds.getRectangle(rect)):_core$Sprite.prototype.getLocalBounds.call(this,rect)},TilingSprite.prototype.containsPoint=function(x1){this.worldTransform.applyInverse(x1,tempPoint);var y1=this._width,height=this._height,x1=-y1*this.anchor._x;if(tempPoint.x>=x1&&tempPoint.x<x1+y1){y1=-height*this.anchor._y;if(tempPoint.y>=y1&&tempPoint.y<y1+height)return!0}return!1},TilingSprite.prototype.destroy=function(options){_core$Sprite.prototype.destroy.call(this,options),this.tileTransform=null,this.uvTransform=null},TilingSprite.from=function(source,width,height){return new TilingSprite(core.Texture.from(source),width,height)},TilingSprite.fromFrame=function(frameId,width,height){var texture=core.utils.TextureCache[frameId];if(!texture)throw new Error('The frameId "'+frameId+'" does not exist in the texture cache '+this);return new TilingSprite(texture,width,height)},TilingSprite.fromImage=function(imageId,width,height,crossorigin,scaleMode){return new TilingSprite(core.Texture.fromImage(imageId,crossorigin,scaleMode),width,height)},_createClass(TilingSprite,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(value){this.uvTransform.clampMargin=value,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(value){this.tileTransform.scale.copy(value)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(value){this.tileTransform.position.copy(value)}},{key:"width",get:function(){return this._width},set:function(value){this._width=value}},{key:"height",get:function(){return this._height},set:function(value){this._height=value}}]),TilingSprite}(core.Sprite);exports.default=TilingSprite},{"../core":60,"../core/sprites/canvas/CanvasTinter":99}],131:[function(BitmapText,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(BitmapText("../core")),_ObservablePoint2=_interopRequireDefault(BitmapText("../core/math/ObservablePoint")),_utils=BitmapText("../core/utils"),_settings2=_interopRequireDefault(BitmapText("../core/settings"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}BitmapText=function(_core$Container){function BitmapText(text){var style=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(instance){if(!(instance instanceof BitmapText))throw new TypeError("Cannot call a class as a function")}(this);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$Container.call(this));return _this._textWidth=0,_this._textHeight=0,_this._glyphs=[],_this._font={tint:void 0!==style.tint?style.tint:16777215,align:style.align||"left",name:null,size:0},_this.font=style.font,_this._text=text,_this._maxWidth=0,_this._maxLineHeight=0,_this._letterSpacing=0,_this._anchor=new _ObservablePoint2.default(function(){_this.dirty=!0},_this,0,0),_this.dirty=!1,_this.updateText(),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(BitmapText,_core$Container),BitmapText.prototype.updateText=function(){for(var data=BitmapText.fonts[this._font.name],scale=this._font.size/data.size,pos=new core.Point,chars=[],lineWidths=[],text=this.text.replace(/(?:\r\n|\r)/g,"\n"),textLength=text.length,maxWidth=this._maxWidth*data.size/this._font.size,prevCharCode=null,lastLineWidth=0,maxLineWidth=0,line=0,lastBreakPos=-1,lastBreakWidth=0,spacesRemoved=0,maxLineHeight=0,i=0;i<textLength;i++){var charCode=text.charCodeAt(i),charData=text.charAt(i);/(?:\s)/.test(charData)&&(lastBreakPos=i,lastBreakWidth=lastLineWidth),"\r"!==charData&&"\n"!==charData?(charData=data.chars[charCode])&&(prevCharCode&&charData.kerning[prevCharCode]&&(pos.x+=charData.kerning[prevCharCode]),chars.push({texture:charData.texture,line:line,charCode:charCode,position:new core.Point(pos.x+charData.xOffset+this._letterSpacing/2,pos.y+charData.yOffset)}),pos.x+=charData.xAdvance+this._letterSpacing,lastLineWidth=pos.x,maxLineHeight=Math.max(maxLineHeight,charData.yOffset+charData.texture.height),prevCharCode=charCode,-1!==lastBreakPos&&0<maxWidth&&pos.x>maxWidth&&(++spacesRemoved,core.utils.removeItems(chars,1+lastBreakPos-spacesRemoved,1+i-lastBreakPos),i=lastBreakPos,lastBreakPos=-1,lineWidths.push(lastBreakWidth),maxLineWidth=Math.max(maxLineWidth,lastBreakWidth),line++,pos.x=0,pos.y+=data.lineHeight,prevCharCode=null)):(lineWidths.push(lastLineWidth),maxLineWidth=Math.max(maxLineWidth,lastLineWidth),++line,++spacesRemoved,pos.x=0,pos.y+=data.lineHeight,prevCharCode=null)}var lastChar=text.charAt(text.length-1);"\r"!==lastChar&&"\n"!==lastChar&&(/(?:\s)/.test(lastChar)&&(lastLineWidth=lastBreakWidth),lineWidths.push(lastLineWidth),maxLineWidth=Math.max(maxLineWidth,lastLineWidth));for(var lineAlignOffsets=[],_i=0;_i<=line;_i++){var alignOffset=0;"right"===this._font.align?alignOffset=maxLineWidth-lineWidths[_i]:"center"===this._font.align&&(alignOffset=(maxLineWidth-lineWidths[_i])/2),lineAlignOffsets.push(alignOffset)}for(var lenChars=chars.length,tint=this.tint,_i2=0;_i2<lenChars;_i2++){var c=this._glyphs[_i2];c?c.texture=chars[_i2].texture:(c=new core.Sprite(chars[_i2].texture),this._glyphs.push(c)),c.position.x=(chars[_i2].position.x+lineAlignOffsets[chars[_i2].line])*scale,c.position.y=chars[_i2].position.y*scale,c.scale.x=c.scale.y=scale,c.tint=tint,c.parent||this.addChild(c)}for(var _i3=lenChars;_i3<this._glyphs.length;++_i3)this.removeChild(this._glyphs[_i3]);if(this._textWidth=maxLineWidth*scale,this._textHeight=(pos.y+data.lineHeight)*scale,0!==this.anchor.x||0!==this.anchor.y)for(var _i4=0;_i4<lenChars;_i4++)this._glyphs[_i4].x-=this._textWidth*this.anchor.x,this._glyphs[_i4].y-=this._textHeight*this.anchor.y;this._maxLineHeight=maxLineHeight*scale},BitmapText.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},BitmapText.prototype.getLocalBounds=function(){return this.validate(),_core$Container.prototype.getLocalBounds.call(this)},BitmapText.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},BitmapText.registerFont=function(xml,textures){var data={},info=xml.getElementsByTagName("info")[0],common=xml.getElementsByTagName("common")[0],pages=xml.getElementsByTagName("page"),res=(0,_utils.getResolutionOfUrl)(pages[0].getAttribute("file"),_settings2.default.RESOLUTION),pagesTextures={};data.font=info.getAttribute("face"),data.size=parseInt(info.getAttribute("size"),10),data.lineHeight=parseInt(common.getAttribute("lineHeight"),10)/res,data.chars={},textures instanceof core.Texture&&(textures=[textures]);for(var i=0;i<pages.length;i++){var id=pages[i].getAttribute("id"),file=pages[i].getAttribute("file");pagesTextures[id]=textures instanceof Array?textures[i]:textures[file]}for(var letters=xml.getElementsByTagName("char"),_i5=0;_i5<letters.length;_i5++){var letter=letters[_i5],charCode=parseInt(letter.getAttribute("id"),10),page=letter.getAttribute("page")||0,textureRect=new core.Rectangle(parseInt(letter.getAttribute("x"),10)/res+pagesTextures[page].frame.x/res,parseInt(letter.getAttribute("y"),10)/res+pagesTextures[page].frame.y/res,parseInt(letter.getAttribute("width"),10)/res,parseInt(letter.getAttribute("height"),10)/res);data.chars[charCode]={xOffset:parseInt(letter.getAttribute("xoffset"),10)/res,yOffset:parseInt(letter.getAttribute("yoffset"),10)/res,xAdvance:parseInt(letter.getAttribute("xadvance"),10)/res,kerning:{},texture:new core.Texture(pagesTextures[page].baseTexture,textureRect),page:page}}for(var kernings=xml.getElementsByTagName("kerning"),_i6=0;_i6<kernings.length;_i6++){var amount=kernings[_i6],first=parseInt(amount.getAttribute("first"),10)/res,second=parseInt(amount.getAttribute("second"),10)/res,amount=parseInt(amount.getAttribute("amount"),10)/res;data.chars[second]&&(data.chars[second].kerning[first]=amount)}return BitmapText.fonts[data.font]=data},_createClass(BitmapText,[{key:"tint",get:function(){return this._font.tint},set:function(value){this._font.tint="number"==typeof value&&0<=value?value:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(value){this._font.align=value||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(value){"number"==typeof value?this._anchor.set(value):this._anchor.copy(value)}},{key:"font",get:function(){return this._font},set:function(value){value&&("string"==typeof value?(value=value.split(" "),this._font.name=1===value.length?value[0]:value.slice(1).join(" "),this._font.size=2<=value.length?parseInt(value[0],10):BitmapText.fonts[this._font.name].size):(this._font.name=value.name,this._font.size="number"==typeof value.size?value.size:parseInt(value.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(value){value=value.toString()||" ",this._text!==value&&(this._text=value,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(value){this._maxWidth!==value&&(this._maxWidth=value,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(value){this._letterSpacing!==value&&(this._letterSpacing=value,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),BitmapText}(core.Container);(exports.default=BitmapText).fonts={}},{"../core":60,"../core/math/ObservablePoint":63,"../core/settings":96,"../core/utils":120}],130:[function(AnimatedSprite,module,exports){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(AnimatedSprite("../core"));AnimatedSprite=function(_core$Sprite){function AnimatedSprite(textures,autoUpdate){!function(instance){if(!(instance instanceof AnimatedSprite))throw new TypeError("Cannot call a class as a function")}(this);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,_core$Sprite.call(this,textures[0]instanceof core.Texture?textures[0]:textures[0].texture));return _this._textures=null,_this._durations=null,_this.textures=textures,_this._autoUpdate=!1!==autoUpdate,_this.animationSpeed=1,_this.loop=!0,_this.updateAnchor=!1,_this.onComplete=null,_this.onFrameChange=null,_this.onLoop=null,_this._currentTime=0,_this.playing=!1,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(AnimatedSprite,_core$Sprite),AnimatedSprite.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&core.ticker.shared.remove(this.update,this))},AnimatedSprite.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&core.ticker.shared.add(this.update,this,core.UPDATE_PRIORITY.HIGH))},AnimatedSprite.prototype.gotoAndStop=function(frameNumber){this.stop();var previousFrame=this.currentFrame;this._currentTime=frameNumber,previousFrame!==this.currentFrame&&this.updateTexture()},AnimatedSprite.prototype.gotoAndPlay=function(frameNumber){var previousFrame=this.currentFrame;this._currentTime=frameNumber,previousFrame!==this.currentFrame&&this.updateTexture(),this.play()},AnimatedSprite.prototype.update=function(deltaTime){var elapsed=this.animationSpeed*deltaTime,previousFrame=this.currentFrame;if(null!==this._durations){var lag=this._currentTime%1*this._durations[this.currentFrame];for(lag+=elapsed/60*1e3;lag<0;)this._currentTime--,lag+=this._durations[this.currentFrame];var sign=Math.sign(this.animationSpeed*deltaTime);for(this._currentTime=Math.floor(this._currentTime);lag>=this._durations[this.currentFrame];)lag-=this._durations[this.currentFrame]*sign,this._currentTime+=sign;this._currentTime+=lag/this._durations[this.currentFrame]}else this._currentTime+=elapsed;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):previousFrame!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<previousFrame||this.animationSpeed<0&&this.currentFrame>previousFrame)&&this.onLoop(),this.updateTexture())},AnimatedSprite.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},AnimatedSprite.prototype.destroy=function(options){this.stop(),_core$Sprite.prototype.destroy.call(this,options)},AnimatedSprite.fromFrames=function(frames){for(var textures=[],i=0;i<frames.length;++i)textures.push(core.Texture.fromFrame(frames[i]));return new AnimatedSprite(textures)},AnimatedSprite.fromImages=function(images){for(var textures=[],i=0;i<images.length;++i)textures.push(core.Texture.fromImage(images[i]));return new AnimatedSprite(textures)},_createClass(AnimatedSprite,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(value){if(value[0]instanceof core.Texture)this._textures=value,this._durations=null;else{this._textures=[],this._durations=[];for(var i=0;i<value.length;i++)this._textures.push(value[i].texture),this._durations.push(value[i].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var currentFrame=Math.floor(this._currentTime)%this._textures.length;return currentFrame<0&&(currentFrame+=this._textures.length),currentFrame}}]),AnimatedSprite}(core.Sprite);exports.default=AnimatedSprite},{"../core":60}],128:[function(require,module,exports){"use strict";exports.__esModule=!0;var _WebGLExtract=require("./webgl/WebGLExtract");Object.defineProperty(exports,"webgl",{enumerable:!0,get:function(){return _interopRequireDefault(_WebGLExtract).default}});var _CanvasExtract=require("./canvas/CanvasExtract");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"canvas",{enumerable:!0,get:function(){return _interopRequireDefault(_CanvasExtract).default}})},{"./canvas/CanvasExtract":127,"./webgl/WebGLExtract":129}],129:[function(WebGLExtract,module,exports){"use strict";exports.__esModule=!0;var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(WebGLExtract("../../core"));var TEMP_RECT=new core.Rectangle,WebGLExtract=function(){function WebGLExtract(renderer){!function(instance){if(!(instance instanceof WebGLExtract))throw new TypeError("Cannot call a class as a function")}(this),(this.renderer=renderer).extract=this}return WebGLExtract.prototype.image=function(target){var image=new Image;return image.src=this.base64(target),image},WebGLExtract.prototype.base64=function(target){return this.canvas(target).toDataURL()},WebGLExtract.prototype.canvas=function(canvasBuffer){var gl=this.renderer,webglPixels=void 0,resolution=void 0,frame=void 0,flipY=!1,renderTexture=void 0,generated=!1;canvasBuffer&&(canvasBuffer instanceof core.RenderTexture?renderTexture=canvasBuffer:(renderTexture=this.renderer.generateTexture(canvasBuffer),generated=!0)),renderTexture?(resolution=(webglPixels=renderTexture.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,frame=renderTexture.frame,flipY=!1):(resolution=(webglPixels=this.renderer.rootRenderTarget).resolution,flipY=!0,(frame=TEMP_RECT).width=webglPixels.size.width,frame.height=webglPixels.size.height);var canvasData=Math.floor(frame.width*resolution+1e-4),height=Math.floor(frame.height*resolution+1e-4),canvasBuffer=new core.CanvasRenderTarget(canvasData,height,1);return webglPixels&&(gl.bindRenderTarget(webglPixels),webglPixels=new Uint8Array(4*canvasData*height),(gl=gl.gl).readPixels(frame.x*resolution,frame.y*resolution,canvasData,height,gl.RGBA,gl.UNSIGNED_BYTE,webglPixels),(canvasData=canvasBuffer.context.getImageData(0,0,canvasData,height)).data.set(webglPixels),canvasBuffer.context.putImageData(canvasData,0,0),flipY&&(canvasBuffer.context.scale(1,-1),canvasBuffer.context.drawImage(canvasBuffer.canvas,0,-height))),generated&&renderTexture.destroy(!0),canvasBuffer.canvas},WebGLExtract.prototype.pixels=function(webglPixels){var gl=this.renderer,textureBuffer=void 0,resolution=void 0,frame=void 0,renderTexture=void 0,generated=!1;webglPixels&&(webglPixels instanceof core.RenderTexture?renderTexture=webglPixels:(renderTexture=this.renderer.generateTexture(webglPixels),generated=!0)),renderTexture?(resolution=(textureBuffer=renderTexture.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,frame=renderTexture.frame):(resolution=(textureBuffer=this.renderer.rootRenderTarget).resolution,(frame=TEMP_RECT).width=textureBuffer.size.width,frame.height=textureBuffer.size.height);var width=frame.width*resolution,height=frame.height*resolution,webglPixels=new Uint8Array(4*width*height);return textureBuffer&&(gl.bindRenderTarget(textureBuffer),(gl=gl.gl).readPixels(frame.x*resolution,frame.y*resolution,width,height,gl.RGBA,gl.UNSIGNED_BYTE,webglPixels)),generated&&renderTexture.destroy(!0),webglPixels},WebGLExtract.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},WebGLExtract}();exports.default=WebGLExtract,core.WebGLRenderer.registerPlugin("extract",WebGLExtract)},{"../../core":60}],127:[function(CanvasExtract,module,exports){"use strict";exports.__esModule=!0;var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(CanvasExtract("../../core"));var TEMP_RECT=new core.Rectangle,CanvasExtract=function(){function CanvasExtract(renderer){!function(instance){if(!(instance instanceof CanvasExtract))throw new TypeError("Cannot call a class as a function")}(this),(this.renderer=renderer).extract=this}return CanvasExtract.prototype.image=function(target){var image=new Image;return image.src=this.base64(target),image},CanvasExtract.prototype.base64=function(target){return this.canvas(target).toDataURL()},CanvasExtract.prototype.canvas=function(width){var canvasBuffer=this.renderer,context=void 0,resolution=void 0,frame=void 0,canvasData=void 0;width&&(canvasData=width instanceof core.RenderTexture?width:canvasBuffer.generateTexture(width)),canvasData?(context=canvasData.baseTexture._canvasRenderTarget.context,resolution=canvasData.baseTexture._canvasRenderTarget.resolution,frame=canvasData.frame):(context=canvasBuffer.rootContext,resolution=canvasBuffer.resolution,(frame=TEMP_RECT).width=this.renderer.width,frame.height=this.renderer.height);width=Math.floor(frame.width*resolution+1e-4),canvasData=Math.floor(frame.height*resolution+1e-4),canvasBuffer=new core.CanvasRenderTarget(width,canvasData,1),canvasData=context.getImageData(frame.x*resolution,frame.y*resolution,width,canvasData);return canvasBuffer.context.putImageData(canvasData,0,0),canvasBuffer.canvas},CanvasExtract.prototype.pixels=function(target){var renderer=this.renderer,context=void 0,resolution=void 0,frame=void 0,renderTexture=void 0;return target&&(renderTexture=target instanceof core.RenderTexture?target:renderer.generateTexture(target)),renderTexture?(context=renderTexture.baseTexture._canvasRenderTarget.context,resolution=renderTexture.baseTexture._canvasRenderTarget.resolution,frame=renderTexture.frame):(context=renderer.rootContext,(frame=TEMP_RECT).width=renderer.width,frame.height=renderer.height),context.getImageData(0,0,frame.width*resolution,frame.height*resolution).data},CanvasExtract.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},CanvasExtract}();exports.default=CanvasExtract,core.CanvasRenderer.registerPlugin("extract",CanvasExtract)},{"../../core":60}],126:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.default=function(core){var mesh=core.mesh,particles=core.particles,extras=core.extras,filters=core.filters,prepare=core.prepare,Loader=core.loaders,interaction=core.interaction;Object.defineProperties(core,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return warn("You do not need to use a PIXI Stage any more, you can simply render any container."),core.Container}},DisplayObjectContainer:{get:function(){return warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),core.Container}},Strip:{get:function(){return warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),mesh.Mesh}},Rope:{get:function(){return warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),mesh.Rope}},ParticleContainer:{get:function(){return warn("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),particles.ParticleContainer}},MovieClip:{get:function(){return warn("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),extras.AnimatedSprite}},TilingSprite:{get:function(){return warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),extras.TilingSprite}},BitmapText:{get:function(){return warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),extras.BitmapText}},blendModes:{get:function(){return warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),core.BLEND_MODES}},scaleModes:{get:function(){return warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),core.SCALE_MODES}},BaseTextureCache:{get:function(){return warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),core.utils.BaseTextureCache}},TextureCache:{get:function(){return warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),core.utils.TextureCache}},math:{get:function(){return warn("The math namespace is deprecated, please access members already accessible on PIXI."),core}},AbstractFilter:{get:function(){return warn("AstractFilter has been renamed to Filter, please use PIXI.Filter"),core.Filter}},TransformManual:{get:function(){return warn("TransformManual has been renamed to TransformBase, please update your pixi-spine"),core.TransformBase}},TARGET_FPMS:{get:function(){return warn("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),core.settings.TARGET_FPMS},set:function(value){warn("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),core.settings.TARGET_FPMS=value}},FILTER_RESOLUTION:{get:function(){return warn("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),core.settings.FILTER_RESOLUTION},set:function(value){warn("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),core.settings.FILTER_RESOLUTION=value}},RESOLUTION:{get:function(){return warn("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),core.settings.RESOLUTION},set:function(value){warn("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),core.settings.RESOLUTION=value}},MIPMAP_TEXTURES:{get:function(){return warn("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),core.settings.MIPMAP_TEXTURES},set:function(value){warn("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),core.settings.MIPMAP_TEXTURES=value}},SPRITE_BATCH_SIZE:{get:function(){return warn("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),core.settings.SPRITE_BATCH_SIZE},set:function(value){warn("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),core.settings.SPRITE_BATCH_SIZE=value}},SPRITE_MAX_TEXTURES:{get:function(){return warn("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),core.settings.SPRITE_MAX_TEXTURES},set:function(value){warn("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),core.settings.SPRITE_MAX_TEXTURES=value}},RETINA_PREFIX:{get:function(){return warn("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),core.settings.RETINA_PREFIX},set:function(value){warn("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),core.settings.RETINA_PREFIX=value}},DEFAULT_RENDER_OPTIONS:{get:function(){return warn("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),core.settings.RENDER_OPTIONS}}});for(var defaults=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],i=0;i<defaults.length;i++)!function(i){var deprecation=defaults[i];Object.defineProperty(core[deprecation.parent],"DEFAULT",{get:function(){return warn("PIXI."+deprecation.parent+".DEFAULT has been deprecated, please use PIXI.settings."+deprecation.target),core.settings[deprecation.target]},set:function(value){warn("PIXI."+deprecation.parent+".DEFAULT has been deprecated, please use PIXI.settings."+deprecation.target),core.settings[deprecation.target]=value}})}(i);Object.defineProperties(core.settings,{PRECISION:{get:function(){return warn("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),core.settings.PRECISION_FRAGMENT},set:function(value){warn("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),core.settings.PRECISION_FRAGMENT=value}}}),extras.AnimatedSprite&&Object.defineProperties(extras,{MovieClip:{get:function(){return warn("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),extras.AnimatedSprite}}});extras&&Object.defineProperties(extras,{TextureTransform:{get:function(){return warn("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),core.TextureMatrix}}});core.DisplayObject.prototype.generateTexture=function(renderer,scaleMode,resolution){return warn("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),renderer.generateTexture(this,scaleMode,resolution)},core.Graphics.prototype.generateTexture=function(scaleMode,resolution){return warn("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(scaleMode,resolution)},core.GroupD8.isSwapWidthHeight=function(rotation){return warn("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),core.GroupD8.isVertical(rotation)},core.RenderTexture.prototype.render=function(displayObject,matrix,clear,updateTransform){this.legacyRenderer.render(displayObject,this,clear,matrix,!updateTransform),warn("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},core.RenderTexture.prototype.getImage=function(target){return warn("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(target)},core.RenderTexture.prototype.getBase64=function(target){return warn("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(target)},core.RenderTexture.prototype.getCanvas=function(target){return warn("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(target)},core.RenderTexture.prototype.getPixels=function(target){return warn("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(target)},core.Sprite.prototype.setTexture=function(texture){this.texture=texture,warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},extras.BitmapText&&(extras.BitmapText.prototype.setText=function(text){this.text=text,warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});core.Text.prototype.setText=function(text){this.text=text,warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},core.Text.calculateFontProperties=function(font){return warn("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),core.TextMetrics.measureFont(font)},Object.defineProperties(core.Text,{fontPropertiesCache:{get:function(){return warn("Text.fontPropertiesCache is deprecated"),core.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return warn("Text.fontPropertiesCanvas is deprecated"),core.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return warn("Text.fontPropertiesContext is deprecated"),core.TextMetrics._context}}}),core.Text.prototype.setStyle=function(style){this.style=style,warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},core.Text.prototype.determineFontProperties=function(fontStyle){return warn("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),core.TextMetrics.measureFont(fontStyle)},core.Text.getFontStyle=function(style){return warn("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(style=style||{})instanceof core.TextStyle||(style=new core.TextStyle(style)),style.toFontString()},Object.defineProperties(core.TextStyle.prototype,{font:{get:function(){warn("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var fontSizeString="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+fontSizeString+" "+this._fontFamily},set:function(font){warn("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),1<font.indexOf("italic")?this._fontStyle="italic":-1<font.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal",-1<font.indexOf("small-caps")?this._fontVariant="small-caps":this._fontVariant="normal";var splits=font.split(" "),fontSizeIndex=-1;this._fontSize=26;for(var i=0;i<splits.length;++i)if(splits[i].match(/(px|pt|em|%)/)){fontSizeIndex=i,this._fontSize=splits[i];break}this._fontWeight="normal";for(var _i=0;_i<fontSizeIndex;++_i)if(splits[_i].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=splits[_i];break}if(-1<fontSizeIndex&&fontSizeIndex<splits.length-1){this._fontFamily="";for(var _i2=fontSizeIndex+1;_i2<splits.length;++_i2)this._fontFamily+=splits[_i2]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),core.Texture.prototype.setFrame=function(frame){this.frame=frame,warn("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},core.Texture.addTextureToCache=function(texture,id){core.Texture.addToCache(texture,id),warn("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},core.Texture.removeTextureFromCache=function(id){return warn("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),core.BaseTexture.removeFromCache(id),core.Texture.removeFromCache(id)},Object.defineProperties(filters,{AbstractFilter:{get:function(){return warn("AstractFilter has been renamed to Filter, please use PIXI.Filter"),core.AbstractFilter}},SpriteMaskFilter:{get:function(){return warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),core.SpriteMaskFilter}},VoidFilter:{get:function(){return warn("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),filters.AlphaFilter}}}),core.utils.uuid=function(){return warn("utils.uuid() is deprecated, please use utils.uid() from now on."),core.utils.uid()},core.utils.canUseNewCanvasBlendModes=function(){return warn("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),core.CanvasTinter.canUseMultiply};var saidHello=!0;Object.defineProperty(core.utils,"_saidHello",{set:function(bool){bool&&(warn("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),saidHello=bool},get:function(){return saidHello}}),prepare.BasePrepare&&(prepare.BasePrepare.prototype.register=function(addHook,uploadHook){return warn("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),addHook&&this.registerFindHook(addHook),uploadHook&&this.registerUploadHook(uploadHook),this});prepare.canvas&&Object.defineProperty(prepare.canvas,"UPLOADS_PER_FRAME",{set:function(){warn("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return warn("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});prepare.webgl&&Object.defineProperty(prepare.webgl,"UPLOADS_PER_FRAME",{set:function(){warn("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return warn("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});{var Resource;Loader.Loader&&(Resource=Loader.Resource,Loader=Loader.Loader,Object.defineProperties(Resource.prototype,{isJson:{get:function(){return warn("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===Resource.TYPE.JSON}},isXml:{get:function(){return warn("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===Resource.TYPE.XML}},isImage:{get:function(){return warn("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===Resource.TYPE.IMAGE}},isAudio:{get:function(){return warn("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===Resource.TYPE.AUDIO}},isVideo:{get:function(){return warn("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===Resource.TYPE.VIDEO}}}),Object.defineProperties(Loader.prototype,{before:{get:function(){return warn("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return warn("The after() method is deprecated, please use use()."),this.use}}}))}interaction.interactiveTarget&&Object.defineProperty(interaction.interactiveTarget,"defaultCursor",{set:function(value){warn("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=value},get:function(){return warn("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}});interaction.InteractionManager&&(Object.defineProperty(interaction.InteractionManager,"defaultCursorStyle",{set:function(value){warn("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=value},get:function(){return warn("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(interaction.InteractionManager,"currentCursorStyle",{set:function(value){warn("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=value},get:function(){return warn("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var warnings={};function warn(msg){var stack;warnings[msg]||(void 0===(stack=(new Error).stack)?console.warn("Deprecation Warning: ",msg):(stack=stack.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",msg),console.warn(stack),console.groupEnd()):(console.warn("Deprecation Warning: ",msg),console.warn(stack))),warnings[msg]=!0)}},{}],37:[function(require,module,exports){"use strict";exports.__esModule=!0;var _accessibleTarget=require("./accessibleTarget");Object.defineProperty(exports,"accessibleTarget",{enumerable:!0,get:function(){return _interopRequireDefault(_accessibleTarget).default}});var _AccessibilityManager=require("./AccessibilityManager");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"AccessibilityManager",{enumerable:!0,get:function(){return _interopRequireDefault(_AccessibilityManager).default}})},{"./AccessibilityManager":35,"./accessibleTarget":36}],35:[function(AccessibilityManager,module,exports){"use strict";exports.__esModule=!0;var core=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(AccessibilityManager("../core")),_ismobilejs2=_interopRequireDefault(AccessibilityManager("ismobilejs")),AccessibilityManager=_interopRequireDefault(AccessibilityManager("./accessibleTarget"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}core.utils.mixins.delayMixin(core.DisplayObject.prototype,AccessibilityManager.default);var DIV_TOUCH_SIZE=100,DIV_TOUCH_POS_X=0,DIV_TOUCH_POS_Y=0,DIV_TOUCH_ZINDEX=2,AccessibilityManager=function(){function AccessibilityManager(renderer){!function(instance){if(!(instance instanceof AccessibilityManager))throw new TypeError("Cannot call a class as a function")}(this),!_ismobilejs2.default.tablet&&!_ismobilejs2.default.phone||navigator.isCocoonJS||this.createTouchHook();var div=document.createElement("div");div.style.width=DIV_TOUCH_SIZE+"px",div.style.height=DIV_TOUCH_SIZE+"px",div.style.position="absolute",div.style.top=DIV_TOUCH_POS_X+"px",div.style.left=DIV_TOUCH_POS_Y+"px",div.style.zIndex=DIV_TOUCH_ZINDEX,this.div=div,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=renderer,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return AccessibilityManager.prototype.createTouchHook=function(){var _this=this,hookDiv=document.createElement("button");hookDiv.style.width="1px",hookDiv.style.height="1px",hookDiv.style.position="absolute",hookDiv.style.top="-1000px",hookDiv.style.left="-1000px",hookDiv.style.zIndex=2,hookDiv.style.backgroundColor="#FF0000",hookDiv.title="HOOK DIV",hookDiv.addEventListener("focus",function(){_this.isMobileAccessabillity=!0,_this.activate(),document.body.removeChild(hookDiv)}),document.body.appendChild(hookDiv)},AccessibilityManager.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},AccessibilityManager.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},AccessibilityManager.prototype.updateAccessibleObjects=function(displayObject){if(displayObject.visible){displayObject.accessible&&displayObject.interactive&&(displayObject._accessibleActive||this.addChild(displayObject),displayObject.renderId=this.renderId);for(var children=displayObject.children,i=0;i<children.length;i++)this.updateAccessibleObjects(children[i])}},AccessibilityManager.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var rect=this.renderer.view.getBoundingClientRect(),sx=rect.width/this.renderer.width,sy=rect.height/this.renderer.height,div=this.div;div.style.left=rect.left+"px",div.style.top=rect.top+"px",div.style.width=this.renderer.width+"px",div.style.height=this.renderer.height+"px";for(var i=0;i<this.children.length;i++){var hitArea,wt,child=this.children[i];child.renderId!==this.renderId?(child._accessibleActive=!1,core.utils.removeItems(this.children,i,1),this.div.removeChild(child._accessibleDiv),this.pool.push(child._accessibleDiv),child._accessibleDiv=null,i--,0===this.children.length&&this.deactivate()):(div=child._accessibleDiv,hitArea=child.hitArea,wt=child.worldTransform,child.hitArea?(div.style.left=(wt.tx+hitArea.x*wt.a)*sx+"px",div.style.top=(wt.ty+hitArea.y*wt.d)*sy+"px",div.style.width=hitArea.width*wt.a*sx+"px",div.style.height=hitArea.height*wt.d*sy+"px"):(hitArea=child.getBounds(),this.capHitArea(hitArea),div.style.left=hitArea.x*sx+"px",div.style.top=hitArea.y*sy+"px",div.style.width=hitArea.width*sx+"px",div.style.height=hitArea.height*sy+"px",div.title!==child.accessibleTitle&&null!==child.accessibleTitle&&(div.title=child.accessibleTitle),div.getAttribute("aria-label")!==child.accessibleHint&&null!==child.accessibleHint&&div.setAttribute("aria-label",child.accessibleHint)))}this.renderId++}},AccessibilityManager.prototype.capHitArea=function(hitArea){hitArea.x<0&&(hitArea.width+=hitArea.x,hitArea.x=0),hitArea.y<0&&(hitArea.height+=hitArea.y,hitArea.y=0),hitArea.x+hitArea.width>this.renderer.width&&(hitArea.width=this.renderer.width-hitArea.x),hitArea.y+hitArea.height>this.renderer.height&&(hitArea.height=this.renderer.height-hitArea.y)},AccessibilityManager.prototype.addChild=function(displayObject){var div=this.pool.pop();div||((div=document.createElement("button")).style.width=DIV_TOUCH_SIZE+"px",div.style.height=DIV_TOUCH_SIZE+"px",div.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",div.style.position="absolute",div.style.zIndex=DIV_TOUCH_ZINDEX,div.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?div.setAttribute("aria-live","off"):div.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?div.setAttribute("aria-relevant","additions"):div.setAttribute("aria-relevant","text"),div.addEventListener("click",this._onClick.bind(this)),div.addEventListener("focus",this._onFocus.bind(this)),div.addEventListener("focusout",this._onFocusOut.bind(this))),displayObject.accessibleTitle&&null!==displayObject.accessibleTitle?div.title=displayObject.accessibleTitle:displayObject.accessibleHint&&null!==displayObject.accessibleHint||(div.title="displayObject "+displayObject.tabIndex),displayObject.accessibleHint&&null!==displayObject.accessibleHint&&div.setAttribute("aria-label",displayObject.accessibleHint),displayObject._accessibleActive=!0,(displayObject._accessibleDiv=div).displayObject=displayObject,this.children.push(displayObject),this.div.appendChild(displayObject._accessibleDiv),displayObject._accessibleDiv.tabIndex=displayObject.tabIndex},AccessibilityManager.prototype._onClick=function(e){var interactionManager=this.renderer.plugins.interaction;interactionManager.dispatchEvent(e.target.displayObject,"click",interactionManager.eventData)},AccessibilityManager.prototype._onFocus=function(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","assertive");var interactionManager=this.renderer.plugins.interaction;interactionManager.dispatchEvent(e.target.displayObject,"mouseover",interactionManager.eventData)},AccessibilityManager.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","polite");var interactionManager=this.renderer.plugins.interaction;interactionManager.dispatchEvent(e.target.displayObject,"mouseout",interactionManager.eventData)},AccessibilityManager.prototype._onKeyDown=function(e){9===e.keyCode&&this.activate()},AccessibilityManager.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},AccessibilityManager.prototype.destroy=function(){this.div=null;for(var i=0;i<this.children.length;i++)this.children[i].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},AccessibilityManager}();exports.default=AccessibilityManager,core.WebGLRenderer.registerPlugin("accessibility",AccessibilityManager),core.CanvasRenderer.registerPlugin("accessibility",AccessibilityManager)},{"../core":60,"./accessibleTarget":36,ismobilejs:11}],60:[function(_WebGLRenderer2,module,exports){"use strict";exports.__esModule=!0,exports.autoDetectRenderer=exports.Application=exports.Filter=exports.SpriteMaskFilter=exports.Quad=exports.RenderTarget=exports.ObjectRenderer=exports.WebGLManager=exports.Shader=exports.CanvasRenderTarget=exports.TextureUvs=exports.VideoBaseTexture=exports.BaseRenderTexture=exports.RenderTexture=exports.BaseTexture=exports.TextureMatrix=exports.Texture=exports.Spritesheet=exports.CanvasGraphicsRenderer=exports.GraphicsRenderer=exports.GraphicsData=exports.Graphics=exports.TextMetrics=exports.TextStyle=exports.Text=exports.SpriteRenderer=exports.CanvasTinter=exports.CanvasSpriteRenderer=exports.Sprite=exports.TransformBase=exports.TransformStatic=exports.Transform=exports.Container=exports.DisplayObject=exports.Bounds=exports.glCore=exports.WebGLRenderer=exports.CanvasRenderer=exports.ticker=exports.utils=exports.settings=void 0;var _const=_WebGLRenderer2("./const");Object.keys(_const).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _const[key]}})});var _math=_WebGLRenderer2("./math");Object.keys(_math).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _math[key]}})});var _pixiGlCore=_WebGLRenderer2("pixi-gl-core");Object.defineProperty(exports,"glCore",{enumerable:!0,get:function(){return _interopRequireDefault(_pixiGlCore).default}});var _Bounds=_WebGLRenderer2("./display/Bounds");Object.defineProperty(exports,"Bounds",{enumerable:!0,get:function(){return _interopRequireDefault(_Bounds).default}});var _DisplayObject=_WebGLRenderer2("./display/DisplayObject");Object.defineProperty(exports,"DisplayObject",{enumerable:!0,get:function(){return _interopRequireDefault(_DisplayObject).default}});var _Container=_WebGLRenderer2("./display/Container");Object.defineProperty(exports,"Container",{enumerable:!0,get:function(){return _interopRequireDefault(_Container).default}});var _Transform=_WebGLRenderer2("./display/Transform");Object.defineProperty(exports,"Transform",{enumerable:!0,get:function(){return _interopRequireDefault(_Transform).default}});var _TransformStatic=_WebGLRenderer2("./display/TransformStatic");Object.defineProperty(exports,"TransformStatic",{enumerable:!0,get:function(){return _interopRequireDefault(_TransformStatic).default}});var _TransformBase=_WebGLRenderer2("./display/TransformBase");Object.defineProperty(exports,"TransformBase",{enumerable:!0,get:function(){return _interopRequireDefault(_TransformBase).default}});var _Sprite=_WebGLRenderer2("./sprites/Sprite");Object.defineProperty(exports,"Sprite",{enumerable:!0,get:function(){return _interopRequireDefault(_Sprite).default}});var _CanvasSpriteRenderer=_WebGLRenderer2("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(exports,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(_CanvasSpriteRenderer).default}});var _CanvasTinter=_WebGLRenderer2("./sprites/canvas/CanvasTinter");Object.defineProperty(exports,"CanvasTinter",{enumerable:!0,get:function(){return _interopRequireDefault(_CanvasTinter).default}});var _SpriteRenderer=_WebGLRenderer2("./sprites/webgl/SpriteRenderer");Object.defineProperty(exports,"SpriteRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(_SpriteRenderer).default}});var _Text=_WebGLRenderer2("./text/Text");Object.defineProperty(exports,"Text",{enumerable:!0,get:function(){return _interopRequireDefault(_Text).default}});var _TextStyle=_WebGLRenderer2("./text/TextStyle");Object.defineProperty(exports,"TextStyle",{enumerable:!0,get:function(){return _interopRequireDefault(_TextStyle).default}});var _TextMetrics=_WebGLRenderer2("./text/TextMetrics");Object.defineProperty(exports,"TextMetrics",{enumerable:!0,get:function(){return _interopRequireDefault(_TextMetrics).default}});var _Graphics=_WebGLRenderer2("./graphics/Graphics");Object.defineProperty(exports,"Graphics",{enumerable:!0,get:function(){return _interopRequireDefault(_Graphics).default}});var _GraphicsData=_WebGLRenderer2("./graphics/GraphicsData");Object.defineProperty(exports,"GraphicsData",{enumerable:!0,get:function(){return _interopRequireDefault(_GraphicsData).default}});var _GraphicsRenderer=_WebGLRenderer2("./graphics/webgl/GraphicsRenderer");Object.defineProperty(exports,"GraphicsRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(_GraphicsRenderer).default}});var _CanvasGraphicsRenderer=_WebGLRenderer2("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(exports,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(_CanvasGraphicsRenderer).default}});var _Spritesheet=_WebGLRenderer2("./textures/Spritesheet");Object.defineProperty(exports,"Spritesheet",{enumerable:!0,get:function(){return _interopRequireDefault(_Spritesheet).default}});var _Texture=_WebGLRenderer2("./textures/Texture");Object.defineProperty(exports,"Texture",{enumerable:!0,get:function(){return _interopRequireDefault(_Texture).default}});var _TextureMatrix=_WebGLRenderer2("./textures/TextureMatrix");Object.defineProperty(exports,"TextureMatrix",{enumerable:!0,get:function(){return _interopRequireDefault(_TextureMatrix).default}});var _BaseTexture=_WebGLRenderer2("./textures/BaseTexture");Object.defineProperty(exports,"BaseTexture",{enumerable:!0,get:function(){return _interopRequireDefault(_BaseTexture).default}});var _RenderTexture=_WebGLRenderer2("./textures/RenderTexture");Object.defineProperty(exports,"RenderTexture",{enumerable:!0,get:function(){return _interopRequireDefault(_RenderTexture).default}});var _BaseRenderTexture=_WebGLRenderer2("./textures/BaseRenderTexture");Object.defineProperty(exports,"BaseRenderTexture",{enumerable:!0,get:function(){return _interopRequireDefault(_BaseRenderTexture).default}});var _VideoBaseTexture=_WebGLRenderer2("./textures/VideoBaseTexture");Object.defineProperty(exports,"VideoBaseTexture",{enumerable:!0,get:function(){return _interopRequireDefault(_VideoBaseTexture).default}});var _TextureUvs=_WebGLRenderer2("./textures/TextureUvs");Object.defineProperty(exports,"TextureUvs",{enumerable:!0,get:function(){return _interopRequireDefault(_TextureUvs).default}});var _CanvasRenderTarget=_WebGLRenderer2("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(exports,"CanvasRenderTarget",{enumerable:!0,get:function(){return _interopRequireDefault(_CanvasRenderTarget).default}});var _Shader=_WebGLRenderer2("./Shader");Object.defineProperty(exports,"Shader",{enumerable:!0,get:function(){return _interopRequireDefault(_Shader).default}});var _WebGLManager=_WebGLRenderer2("./renderers/webgl/managers/WebGLManager");Object.defineProperty(exports,"WebGLManager",{enumerable:!0,get:function(){return _interopRequireDefault(_WebGLManager).default}});var _ObjectRenderer=_WebGLRenderer2("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(exports,"ObjectRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(_ObjectRenderer).default}});var _RenderTarget=_WebGLRenderer2("./renderers/webgl/utils/RenderTarget");Object.defineProperty(exports,"RenderTarget",{enumerable:!0,get:function(){return _interopRequireDefault(_RenderTarget).default}});var _Quad=_WebGLRenderer2("./renderers/webgl/utils/Quad");Object.defineProperty(exports,"Quad",{enumerable:!0,get:function(){return _interopRequireDefault(_Quad).default}});var _SpriteMaskFilter=_WebGLRenderer2("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(exports,"SpriteMaskFilter",{enumerable:!0,get:function(){return _interopRequireDefault(_SpriteMaskFilter).default}});var _Filter=_WebGLRenderer2("./renderers/webgl/filters/Filter");Object.defineProperty(exports,"Filter",{enumerable:!0,get:function(){return _interopRequireDefault(_Filter).default}});var _Application=_WebGLRenderer2("./Application");Object.defineProperty(exports,"Application",{enumerable:!0,get:function(){return _interopRequireDefault(_Application).default}});var _autoDetectRenderer=_WebGLRenderer2("./autoDetectRenderer");Object.defineProperty(exports,"autoDetectRenderer",{enumerable:!0,get:function(){return _autoDetectRenderer.autoDetectRenderer}});var utils=_interopRequireWildcard(_WebGLRenderer2("./utils")),ticker=_interopRequireWildcard(_WebGLRenderer2("./ticker")),_settings2=_interopRequ