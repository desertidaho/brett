<!doctype html><html lang="en-US"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>How IPFS works | IPFS Docs</title>
    <meta name="generator" content="VuePress 1.8.1">
    <link rel="preconnect" href="https://www.google-analytics.com">
    <link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
    <link rel="manifest" href="../../manifest.json">
    <link rel="mask-icon" href="../../safari-pinned-tab.svg" color="#3a0839">
    <link rel="shortcut icon" href="../../favicon.ico"><link rel="canonical" href="https://docs.ipfs.io/concepts/how-ipfs-works/">
    <meta name="description" content="Learn how the InterPlanetary File System (IPFS) works and why it&#x27;s an essential part of the future internet.">
    <meta property="article:modified_time" content="2020-11-27T05:53:18.000Z">
    <meta property="og:title" content="How IPFS works">
    <meta property="og:description" content="Learn how the InterPlanetary File System (IPFS) works and why it&#x27;s an essential part of the future internet.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://docs.ipfs.io/concepts/how-ipfs-works/">
    <meta property="og:image" content="https://docs.ipfs.io/images/social-card.png">
    <meta name="twitter:title" content="How IPFS works">
    <meta name="twitter:description" content="Learn how the InterPlanetary File System (IPFS) works and why it&#x27;s an essential part of the future internet.">
    <meta name="twitter:url" content="https://docs.ipfs.io/concepts/how-ipfs-works/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://docs.ipfs.io/images/social-card.png">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="IPFS Team">
    <meta name="twitter:creator" content="@ipfsbot">
    <meta name="twitter:site" content="@ipfsbot">
    <meta name="image" content="https://docs.ipfs.io/images/social-card.png">
    <meta name="keywords" content="IPFS, dweb, protocol, libp2p, ipld, multiformats, bitswap, decentralized web, InterPlanetary File System, dapp, documentation, docs, Protocol Labs">
    <meta name="msapplication-TileColor" content="#3a0839">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <meta name="theme-color" content="#5bbad5">
    
    <link rel="preload" href="../../assets/css/0.styles.fb9e1d83.css" as="style"><link rel="preload" href="../../assets/js/app.2c833290.js" as="script"><link rel="preload" href="../../assets/js/3.0fdd0dd6.js" as="script"><link rel="preload" href="../../assets/js/7.0124c7d2.js" as="script"><link rel="preload" href="../../assets/js/49.a4153eb1.js" as="script"><link rel="prefetch" href="../../assets/js/10.bd120cd4.js"><link rel="prefetch" href="../../assets/js/100.d4ad6f62.js"><link rel="prefetch" href="../../assets/js/101.f70dbd76.js"><link rel="prefetch" href="../../assets/js/102.6788588c.js"><link rel="prefetch" href="../../assets/js/103.5c89c831.js"><link rel="prefetch" href="../../assets/js/104.6fa5d8f9.js"><link rel="prefetch" href="../../assets/js/105.2fdf4efd.js"><link rel="prefetch" href="../../assets/js/106.f50d8607.js"><link rel="prefetch" href="../../assets/js/11.fda1a8d3.js"><link rel="prefetch" href="../../assets/js/12.a6e8e201.js"><link rel="prefetch" href="../../assets/js/13.a12f8206.js"><link rel="prefetch" href="../../assets/js/14.06d96d80.js"><link rel="prefetch" href="../../assets/js/15.e0eb4703.js"><link rel="prefetch" href="../../assets/js/16.b7e6db7a.js"><link rel="prefetch" href="../../assets/js/17.ef721273.js"><link rel="prefetch" href="../../assets/js/18.b245a2ee.js"><link rel="prefetch" href="../../assets/js/19.7fcf5460.js"><link rel="prefetch" href="../../assets/js/20.8124c81d.js"><link rel="prefetch" href="../../assets/js/21.5c53524c.js"><link rel="prefetch" href="../../assets/js/22.f1dcbce0.js"><link rel="prefetch" href="../../assets/js/23.c19dbb77.js"><link rel="prefetch" href="../../assets/js/24.2137a6cf.js"><link rel="prefetch" href="../../assets/js/25.60522717.js"><link rel="prefetch" href="../../assets/js/26.2621d857.js"><link rel="prefetch" href="../../assets/js/27.72f23328.js"><link rel="prefetch" href="../../assets/js/28.1040860f.js"><link rel="prefetch" href="../../assets/js/29.d3978253.js"><link rel="prefetch" href="../../assets/js/30.1172fc3a.js"><link rel="prefetch" href="../../assets/js/31.295b44ae.js"><link rel="prefetch" href="../../assets/js/32.58213527.js"><link rel="prefetch" href="../../assets/js/33.35fccbbe.js"><link rel="prefetch" href="../../assets/js/34.65719ee8.js"><link rel="prefetch" href="../../assets/js/35.9a1d2097.js"><link rel="prefetch" href="../../assets/js/36.8c9b53e7.js"><link rel="prefetch" href="../../assets/js/37.65042ee7.js"><link rel="prefetch" href="../../assets/js/38.9915e723.js"><link rel="prefetch" href="../../assets/js/39.e7cdefbd.js"><link rel="prefetch" href="../../assets/js/4.6f2c0300.js"><link rel="prefetch" href="../../assets/js/40.cab4910b.js"><link rel="prefetch" href="../../assets/js/41.8e7b11ea.js"><link rel="prefetch" href="../../assets/js/42.187c0f42.js"><link rel="prefetch" href="../../assets/js/43.4784fb45.js"><link rel="prefetch" href="../../assets/js/44.14519ca3.js"><link rel="prefetch" href="../../assets/js/45.f332edfd.js"><link rel="prefetch" href="../../assets/js/46.a4a5fd36.js"><link rel="prefetch" href="../../assets/js/47.a8f62a8d.js"><link rel="prefetch" href="../../assets/js/48.f70e373e.js"><link rel="prefetch" href="../../assets/js/5.c9de1679.js"><link rel="prefetch" href="../../assets/js/50.f5caccea.js"><link rel="prefetch" href="../../assets/js/51.b0e21369.js"><link rel="prefetch" href="../../assets/js/52.9876e2d5.js"><link rel="prefetch" href="../../assets/js/53.8dd47d07.js"><link rel="prefetch" href="../../assets/js/54.6181351d.js"><link rel="prefetch" href="../../assets/js/55.9a46ae34.js"><link rel="prefetch" href="../../assets/js/56.370a74b3.js"><link rel="prefetch" href="../../assets/js/57.d629cc07.js"><link rel="prefetch" href="../../assets/js/58.7d96d0fe.js"><link rel="prefetch" href="../../assets/js/59.f39cc948.js"><link rel="prefetch" href="../../assets/js/6.a678e61d.js"><link rel="prefetch" href="../../assets/js/60.2719f09d.js"><link rel="prefetch" href="../../assets/js/61.c059362f.js"><link rel="prefetch" href="../../assets/js/62.f68b70d8.js"><link rel="prefetch" href="../../assets/js/63.5a33e4c1.js"><link rel="prefetch" href="../../assets/js/64.a10291c9.js"><link rel="prefetch" href="../../assets/js/65.fed10e63.js"><link rel="prefetch" href="../../assets/js/66.3203d937.js"><link rel="prefetch" href="../../assets/js/67.e3e73aec.js"><link rel="prefetch" href="../../assets/js/68.e14e6305.js"><link rel="prefetch" href="../../assets/js/69.15075446.js"><link rel="prefetch" href="../../assets/js/70.1601d45d.js"><link rel="prefetch" href="../../assets/js/71.484ff286.js"><link rel="prefetch" href="../../assets/js/72.ff105f20.js"><link rel="prefetch" href="../../assets/js/73.37bb99de.js"><link rel="prefetch" href="../../assets/js/74.96b43b84.js"><link rel="prefetch" href="../../assets/js/75.c37cb9ef.js"><link rel="prefetch" href="../../assets/js/76.8e569f30.js"><link rel="prefetch" href="../../assets/js/77.f03c670b.js"><link rel="prefetch" href="../../assets/js/78.93be0772.js"><link rel="prefetch" href="../../assets/js/79.df2b60d4.js"><link rel="prefetch" href="../../assets/js/8.9f50aba2.js"><link rel="prefetch" href="../../assets/js/80.992caed5.js"><link rel="prefetch" href="../../assets/js/81.f85106ec.js"><link rel="prefetch" href="../../assets/js/82.f91d7ad7.js"><link rel="prefetch" href="../../assets/js/83.7209a049.js"><link rel="prefetch" href="../../assets/js/84.e109c2a2.js"><link rel="prefetch" href="../../assets/js/85.81a117bf.js"><link rel="prefetch" href="../../assets/js/86.7c1499cb.js"><link rel="prefetch" href="../../assets/js/87.9dcc45ed.js"><link rel="prefetch" href="../../assets/js/88.2a508c36.js"><link rel="prefetch" href="../../assets/js/89.778cd52c.js"><link rel="prefetch" href="../../assets/js/9.541ca04f.js"><link rel="prefetch" href="../../assets/js/90.7e08dd75.js"><link rel="prefetch" href="../../assets/js/91.6de5fe19.js"><link rel="prefetch" href="../../assets/js/92.d0365c74.js"><link rel="prefetch" href="../../assets/js/93.b6a7f9ec.js"><link rel="prefetch" href="../../assets/js/94.193a9689.js"><link rel="prefetch" href="../../assets/js/95.357d8609.js"><link rel="prefetch" href="../../assets/js/96.3c638d4a.js"><link rel="prefetch" href="../../assets/js/97.1929669d.js"><link rel="prefetch" href="../../assets/js/98.137cf4a6.js"><link rel="prefetch" href="../../assets/js/99.734ed257.js"><link rel="prefetch" href="../../assets/js/vendors~docsearch.8fe964ae.js">
    <link rel="stylesheet" href="../../assets/css/0.styles.fb9e1d83.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="../../images/ipfs-logo.svg" alt="IPFS Docs" class="logo"> <span class="site-name can-hide">IPFS Docs</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="../../install/" class="sidebar-heading clickable"><span>Install</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="../../recent-releases/" class="sidebar-heading clickable"><span>Recent releases</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="../../concepts/" class="sidebar-heading clickable router-link-active open"><span>Concepts</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>IPFS 101</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../../concepts/what-is-ipfs/" class="sidebar-link">What is IPFS?</a></li><li><a href="../../concepts/how-ipfs-works/" aria-current="page" class="active sidebar-link">How IPFS works</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="../../concepts/how-ipfs-works/#content-addressing" class="sidebar-link">Content addressing</a></li><li class="sidebar-sub-header"><a href="../../concepts/how-ipfs-works/#directed-acyclic-graphs-dags" class="sidebar-link">Directed acyclic graphs (DAGs)</a></li><li class="sidebar-sub-header"><a href="../../concepts/how-ipfs-works/#distributed-hash-tables-dhts" class="sidebar-link">Distributed hash tables (DHTs)</a></li><li class="sidebar-sub-header"><a href="../../concepts/how-ipfs-works/#a-modular-paradigm" class="sidebar-link">A modular paradigm</a></li></ul></li><li><a href="../../concepts/privacy/" class="sidebar-link">Privacy</a></li><li><a href="../../concepts/glossary/" class="sidebar-link">Glossary</a></li><li><a href="../../concepts/usage-ideas-examples/" class="sidebar-link">Usage ideas &#x26; examples</a></li><li><a href="../../concepts/faq/" class="sidebar-link">FAQ</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Case studies</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../../concepts/case-study-arbol/" class="sidebar-link">Arbol</a></li><li><a href="../../concepts/case-study-audius/" class="sidebar-link">Audius</a></li><li><a href="../../concepts/case-study-fleek/" class="sidebar-link">Fleek</a></li><li><a href="../../concepts/case-study-likecoin/" class="sidebar-link">LikeCoin</a></li><li><a href="../../concepts/case-study-morpheus/" class="sidebar-link">Morpheus.Network</a></li><li><a href="../../concepts/case-study-openbazaar/" class="sidebar-link">OpenBazaar</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Content-addressed data</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../../concepts/content-addressing/" class="sidebar-link">Content addressing</a></li><li><a href="../../concepts/hashing/" class="sidebar-link">Hashing</a></li><li><a href="../../concepts/immutability/" class="sidebar-link">Immutability</a></li><li><a href="../../concepts/persistence/" class="sidebar-link">Persistence</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Peer-to-peer sharing</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../../concepts/dht/" class="sidebar-link">Distributed Hash Tables (DHTs)</a></li><li><a href="../../concepts/merkle-dag/" class="sidebar-link">Merkle DAGs</a></li><li><a href="../../concepts/bitswap/" class="sidebar-link">Bitswap</a></li><li><a href="../../concepts/ipld/" class="sidebar-link">IPLD</a></li><li><a href="../../concepts/ipns/" class="sidebar-link">IPNS</a></li><li><a href="../../concepts/libp2p/" class="sidebar-link">Libp2p</a></li><li><a href="../../concepts/file-systems/" class="sidebar-link">File systems</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Integrating with the Web</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../../concepts/ipfs-gateway/" class="sidebar-link">IPFS Gateway</a></li><li><a href="../../concepts/dnslink/" class="sidebar-link">DNSLink</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Further reading</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../../concepts/further-reading/academic-papers/" class="sidebar-link">Academic papers</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="../../how-to/" class="sidebar-heading clickable"><span>How-tos</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="../../reference/" class="sidebar-heading clickable"><span>API &#x26; CLI</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="../../community/" class="sidebar-heading clickable"><span>Community</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="../../project/" class="sidebar-heading clickable"><span>Project</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page" data-v-4f5abb4a=""> <div class="theme-default-content content__default" data-v-4f5abb4a=""><h1 id="how-ipfs-works"><a href="#how-ipfs-works" class="header-anchor">#</a> How IPFS works</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Want to see a video recap of how IPFS works with files in general? Check out this content from IPFS Camp 2019! <a href="https://www.youtube.com/watch?v=Z5zNPwMDYGg" target="_blank" rel="noopener noreferrer">Core Course: How IPFS Deals With Files<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <p>IPFS is a peer-to-peer (p2p) storage network. Content is accessible through peers located anywhere in the world, that might relay information, store it, or do both. IPFS knows how to find what you ask for using its content address rather than its location.</p> <p>There are three fundamental principles to understanding IPFS:</p> <ol><li>Unique identification via content addressing</li> <li>Content linking via directed acyclic graphs (DAGs)</li> <li>Content discovery via distributed hash tables (DHTs)</li></ol> <p>These three principles build upon each other to enable the IPFS ecosystem. Let's start with <em>content addressing</em> and the unique identification of content.</p> <h2 id="content-addressing"><a href="#content-addressing" class="header-anchor">#</a> Content addressing</h2> <p>IPFS uses <em>content addressing</em> to identify content by what's in it rather than by where it's located. Looking for an item by content is something you already do all the time. For example, when you look for a book in the library, you often ask for it by the title; that's content addressing because you're asking for <em>what</em> it is. If you were using location addressing to find that book, you'd ask for it by <em>where</em> it is: "I want the book that's on the second floor, first stack, third shelf from the bottom, four books from the left." If someone moved that book, you'd be out of luck!</p> <p>That problem exists for the internet and on your computer! Right now, content is found by location, such as:</p> <ul><li><code>https://en.wikipedia.org/wiki/Aardvark</code></li> <li><code>/Users/Alice/Documents/term_paper.doc</code></li> <li><code>C:\Users\Joe\My Documents\project_sprint_presentation.ppt</code></li></ul> <p>By contrast, every piece of content that uses the IPFS protocol has a <a href="../../concepts/content-addressing/"><em>content identifier</em></a>, or CID, that is its <em>hash</em>. The hash is unique to the content that it came from, even though it may look short compared to the original content. If hashes are new to you, check out our <a href="../../concepts/hashing/">guide to cryptographic hashing</a> for an introduction.</p> <p>Many distributed systems make use of content addressing through hashes as a means for not just identifying content but also linking it together â€” everything from the commits that back your code to the blockchains that run cryptocurrencies leverage this strategy. However, the underlying data structures in these systems are not necessarily interoperable.</p> <p>This is where the <a href="https://ipld.io/" target="_blank" rel="noopener noreferrer">Interplanetary Linked Data (IPLD) project<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> comes in. IPLD translates between hash-linked data structures allowing for the unification of the data across distributed systems. IPLD provides libraries for combining pluggable modules (parsers for each possible type of IPLD node) to resolve a path, selector, or query across many linked nodes, allowing you to explore data regardless of the underlying protocol. IPLD provides a way to translate between content-addressable data structures: <em>"Oh, you use Git-style, no worries, I can follow those links. Oh, you use Ethereum, I got you, I can follow those links too!"</em></p> <p>IPFS follows particular data-structure preferences and conventions. The IPFS protocol uses those conventions and IPLD to get from raw content to an IPFS address that uniquely identifies content on the IPFS network. The next section explores how links between content are embedded within that content address through a DAG data structure.</p> <h2 id="directed-acyclic-graphs-dags"><a href="#directed-acyclic-graphs-dags" class="header-anchor">#</a> Directed acyclic graphs (DAGs)</h2> <p>IPFS and many other distributed systems take advantage of a data structure called <a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph" target="_blank" rel="noopener noreferrer">directed acyclic graphs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, or DAGs. Specifically, they use <em>Merkle DAGs</em>, which are DAGs where each node has a unique identifier that is a hash of the node's contents. Sound familiar? This refers back to the <em>CID</em> concept that we covered in the previous section. Put another way: identifying a data object (like a Merkle DAG node) by the value of its hash <em>is content addressing</em>. Check out our <a href="../../concepts/merkle-dag/">guide to Merkle DAGs</a> for a more in-depth treatment of this topic.</p> <p>IPFS uses a Merkle DAG that is optimized for representing directories and files, but you can structure a Merkle DAG in many different ways. For example, Git uses a Merkle DAG that has many versions of your repo inside of it.</p> <p>To build a Merkle DAG representation of your content, IPFS often first splits it into <em>blocks</em>. Splitting it into blocks means that different parts of the file can come from different sources and be authenticated quickly. (If you've ever used BitTorrent, you may have noticed that when you download a file, BitTorrent can fetch it from multiple peers at once; this is the same idea.)</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>It's easy to see a Merkle DAG representation of a file of your choice using the <a href="https://dag.ipfs.io/" target="_blank" rel="noopener noreferrer">DAG Builder visualizer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <p>Merkle DAGs are a bit of a <a href="https://ipfs.io/ipfs/QmXoypizjW3WknFiJnKLwHCnL72vedxjQkDDP1mXWo6uco/wiki/Turtles_all_the_way_down.html" target="_blank" rel="noopener noreferrer">"turtles all the way down"<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> scenario; that is, <em>everything</em> has a CID. Let's say you have a file, and its CID identifies it. What if that file is in a folder with several other files? Those files will have CIDs too. What about that folder's CID? It would be a hash of the CIDs from the files underneath (i.e., the folder's content). In turn, those files are made up of blocks, and each of those blocks has a CID. You can see how a file system on your computer could be represented as a DAG. You can also see, hopefully, how Merkle DAG graphs start to form. For a visual exploration of this concept, take a look at the <a href="https://explore.ipld.io/#/explore/QmSnuWmxptJZdLJpKRarxBMS2Ju2oANVrgbr2xWbie9b2D" target="_blank" rel="noopener noreferrer">IPLD Explorer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Another useful feature of Merkle DAGs and breaking content into blocks is that if you have two similar files, they can share parts of the Merkle DAG, i.e., parts of different Merkle DAGs can reference the same subset of data. For example, if you update a website, only updated files receive new content addresses. Your old version and your new version can refer to the same blocks for everything else. This can make transferring versions of large datasets (such as genomics research or weather data) more efficient because you only need to transfer the parts that are new or have changed instead of creating entirely new files each time.</p> <p>So, to recap, IPFS lets you give CIDs to content and link that content together in a Merkle DAG. Now let's move on to the last piece: how you find and move content.</p> <h2 id="distributed-hash-tables-dhts"><a href="#distributed-hash-tables-dhts" class="header-anchor">#</a> Distributed hash tables (DHTs)</h2> <p>To find which peers are hosting the content you're after (<em>discovery</em>), IPFS uses a <a href="../../concepts/dht/">distributed hash table</a>, or DHT. A hash table is a database of keys to values. A <em>distributed</em> hash table is one where the table is split across all the peers in a distributed network. To find content, you ask these peers.</p> <p>The <a href="https://libp2p.io/" target="_blank" rel="noopener noreferrer">libp2p project<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is the part of the IPFS ecosystem that provides the DHT and handles peers connecting and talking to each other. (Note that, as with IPLD, libp2p can also be used as a tool for other distributed systems, not just IPFS.)</p> <p>Once you know where your content is (or, more precisely, which peers are storing each of the blocks that make up the content you're after), you use the DHT again to find the current location of those peers (<em>routing</em>). So, in order to get to content, you use libp2p to query the DHT twice.</p> <p>You've discovered your content, and you've found the current location(s) of that content. Now, you need to connect to that content and get it (<em>exchange</em>). To request blocks from and send blocks to other peers, IPFS currently uses a module called <a href="https://github.com/ipfs/specs/blob/master/BITSWAP.md" target="_blank" rel="noopener noreferrer"><em>Bitswap</em><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Bitswap allows you to connect to the peer or peers that have the content you want, send them your <em>wantlist</em> (a list of all the blocks you're interested in), and have them send you the blocks you requested. Once those blocks arrive, you can verify them by hashing their content to get CIDs and compare them to the CIDs that you requested. These CIDs also allow you to deduplicate blocks if needed.</p> <p>There are <a href="https://github.com/ipfs/camp/blob/master/DEEP_DIVES/24-replication-protocol.md" target="_blank" rel="noopener noreferrer">other content replication protocols under discussion<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as well, the most developed of which is <a href="https://github.com/ipld/specs/blob/master/block-layer/graphsync/graphsync.md" target="_blank" rel="noopener noreferrer"><em>Graphsync</em><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. There's also a proposal under discussion to <a href="https://github.com/ipfs/go-bitswap/issues/186" target="_blank" rel="noopener noreferrer">extend the Bitswap protocol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to add functionality around requests and responses.</p> <h3 id="libp2p"><a href="#libp2p" class="header-anchor">#</a> Libp2p</h3> <p>What makes libp2p especially useful for peer to peer connections is <em>connection multiplexing</em>. Traditionally, every service in a system opens a different connection to communicate with other services of the same kind remotely. Using IPFS, you open just one connection, and you multiplex everything on that. For everything your peers need to talk to each other about, you send a little bit of each thing, and the other end knows how to sort those chunks where they belong.</p> <p>This is useful because establishing connections is usually hard to set up and expensive to maintain. With multiplexing, once you have that connection, you can do whatever you need on it.</p> <h2 id="a-modular-paradigm"><a href="#a-modular-paradigm" class="header-anchor">#</a> A modular paradigm</h2> <p>As you may have noticed from this discussion, the IPFS ecosystem is made up of many modular libraries that support specific parts of any distributed system. You can certainly use any part of the stack independently or combine them in novel ways.</p> <p>The IPFS ecosystem gives CIDs to content and links that content together by generating IPLD Merkle DAGs. You can discover content using a DHT that's provided by libp2p, open a connection to any provider of that content, and download it using a multiplexed connection. All of this is held together by the middle of the stack, which is linked, unique identifiers; that's the essential part that IPFS is built on.</p></div> <div class="content-footer" data-v-4f5abb4a=""><div class="feedback content-feedback" data-v-063e6196="" data-v-4f5abb4a=""><h3 data-v-063e6196="">Was this information helpful?</h3> <div class="feedback-actions" data-v-063e6196=""><button title="Yes" class="btn btn-primary" data-v-063e6196="">
      Yes
    </button> <button title="No" class="btn btn-primary" data-v-063e6196="">
      No
    </button></div> <!----> <div class="feedback-edit-or-issue" data-v-063e6196=""><div class="local-page-edit" data-v-063e6196=""><div class="local-edit-link"><a href="https://github.com/ipfs/ipfs-docs/edit/main/docs/concepts/how-ipfs-works.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span>
      on GitHub or
      <a href="https://github.com/ipfs/ipfs-docs/issues/new?assignees=&#x26;labels=need%2Ftriage&#x26;template=open_an_issue.md&#x26;title=How IPFS works" target="_blank" rel="noopener noreferrer">open an issue</a></span></div></div></div></div> <div class="legacy-callout" data-v-00666086="" data-v-4f5abb4a=""><p data-v-00666086=""><b data-v-00666086="">Help us improve this site!</b></p> <section data-v-00666086=""><div class="block" data-v-00666086=""><ul data-v-00666086=""><li data-v-00666086=""><a href="https://github.com/ipfs/ipfs-docs/issues/new?assignees=&#x26;labels=OKR+3%3A+Content+Improvement%2C+docs-ipfs&#x26;template=content-request.md&#x26;title=%5BCONTENT+REQUEST%5D+%28add+your+title+here%21%29" target="_blank" rel="noopener noreferrer" data-v-00666086="">Suggest new content</a></li> <li data-v-00666086=""><a href="https://ipfs.canny.io/docs-features" target="_blank" rel="noopener noreferrer" data-v-00666086="">Request features</a></li></ul></div> <div class="block" data-v-00666086=""><ul data-v-00666086=""><li data-v-00666086=""><a href="https://github.com/ipfs/ipfs-docs/issues/new?assignees=&#x26;labels=OKR+3%3A+Content+Improvement%2C+docs-ipfs&#x26;template=documentation-issue.md&#x26;title=%5BDOCS+ISSUE%5D+%28add+your+title+here%21%29" target="_blank" rel="noopener noreferrer" data-v-00666086="">Give general feedback</a></li></ul></div></section></div> <footer class="page-edit" data-v-4f5abb4a=""><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/27/2020, 5:53:18 AM</span></div></footer> <!----></div> <div data-v-4f5abb4a=""></div> <div data-v-4f5abb4a=""></div> </main></div><div class="global-ui"><!----><div></div></div></div>
    <script src="../../assets/js/app.2c833290.js" defer></script><script src="../../assets/js/3.0fdd0dd6.js" defer></script><script src="../../assets/js/7.0124c7d2.js" defer></script><script src="../../assets/js/49.a4153eb1.js" defer></script>
  

</body></html>